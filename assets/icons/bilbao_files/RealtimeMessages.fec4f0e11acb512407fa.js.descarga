!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("@fiverr/i18n/singleton"),require("axios"),require("classnames"),require("lodash"),require("prop-types"),require("react"),require("react-dom"),require("react-redux"),require("redux"),require("redux-thunk"),require("ua-parser-js"));else if("function"==typeof define&&define.amd)define(["@fiverr/i18n/singleton","axios","classnames","lodash","prop-types","react","react-dom","react-redux","redux","redux-thunk","ua-parser-js"],t);else{var n="object"==typeof exports?t(require("@fiverr/i18n/singleton"),require("axios"),require("classnames"),require("lodash"),require("prop-types"),require("react"),require("react-dom"),require("react-redux"),require("redux"),require("redux-thunk"),require("ua-parser-js")):t(e.i18n,e.axios,e.classNames,e._,e.PropTypes,e.React17,e.ReactDOM17,e.ReactRedux,e.Redux,e.ReduxThunk,e.uaParser);for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(self,((e,t,n,r,o,i,s,a,c,l,u)=>(()=>{var d={jOia:(e,t)=>{t.DEFAULT_LOCALE="en-US"},AFX1:e=>{e.exports={MOBILE_DEVICE:"mobile",TABLET_DEVICE:"tablet",DESKTOP_DEVICE:"desktop",IOS_OS_NAME:"iOS",ANDROID_OS_NAME:"Android"}},HFvH:(e,t,n)=>{const{MOBILE_DEVICE:r,TABLET_DEVICE:o,IOS_OS_NAME:i,ANDROID_OS_NAME:s}=n("AFX1");e.exports={isMobile:e=>e===r,isTouch:e=>[r,o].includes(e),isIos:e=>e===i,isAndroid:e=>e===s}},"1J0n":(e,t,n)=>{const{DEFAULT_LOCALE:r}=n("jOia");t.Q={locale:r,computedLocale:r,userId:0,country:"",countryCode:"",pageCtxId:"",isPro:!1,abTests:{},userAgent:"",knownCrawler:!1,csrfToken:"",browserLanguage:"",currency:"",pathParameters:{},queryParameters:{},userGuid:"",url:"",ip:"",referrer:"",organizationId:"",experience:{isBuyer:!1,isSeller:!1,isBusiness:!1,value:""},isMobile:!1,isTouch:!1,isIos:!1}},"kBU/":(e,t,n)=>{var r=n("3BTF"),o=n("VxPs");n("rS/+");function i(e){return null==e}function s(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).whiteList=e.whiteList||r.whiteList,e.onAttr=e.onAttr||r.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||r.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||r.safeAttrValue,this.options=e}s.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onAttr,s=t.onIgnoreAttr,a=t.safeAttrValue;return o(e,(function(e,t,o,c,l){var u=n[o],d=!1;if(!0===u?d=u:"function"==typeof u?d=u(c):u instanceof RegExp&&(d=u.test(c)),!0!==d&&(d=!1),c=a(o,c)){var p,f={position:t,sourcePosition:e,source:l,isWhite:d};return d?i(p=r(o,c,f))?o+":"+c:p:i(p=s(o,c,f))?void 0:p}}))},e.exports=s},"3BTF":(e,t)=>{function n(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var r=/javascript\s*\:/gim;t.whiteList=n(),t.getDefaultWhiteList=n,t.onAttr=function(e,t,n){},t.onIgnoreAttr=function(e,t,n){},t.safeAttrValue=function(e,t){return r.test(t)?"":t}},w9Sv:(e,t,n)=>{var r=n("3BTF"),o=n("kBU/");for(var i in(t=e.exports=function(e,t){return new o(t).process(e)}).FilterCSS=o,r)t[i]=r[i];"undefined"!=typeof window&&(window.filterCSS=e.exports)},VxPs:(e,t,n)=>{var r=n("rS/+");e.exports=function(e,t){";"!==(e=r.trimRight(e))[e.length-1]&&(e+=";");var n=e.length,o=!1,i=0,s=0,a="";function c(){if(!o){var n=r.trim(e.slice(i,s)),c=n.indexOf(":");if(-1!==c){var l=r.trim(n.slice(0,c)),u=r.trim(n.slice(c+1));if(l){var d=t(i,a.length,l,u,n);d&&(a+=d+"; ")}}}i=s+1}for(;s<n;s++){var l=e[s];if("/"===l&&"*"===e[s+1]){var u=e.indexOf("*/",s+2);if(-1===u)break;i=(s=u+1)+1,o=!1}else"("===l?o=!0:")"===l?o=!1:";"===l?o||c():"\n"===l&&c()}return r.trim(a)}},"rS/+":e=>{e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},"3SKs":e=>{e.exports={}},"/MH/":e=>{e.exports={}},"8jpx":e=>{e.exports={}},vzmT:e=>{e.exports={}},gDIq:e=>{e.exports={}},WzVn:e=>{e.exports={}},dovV:e=>{e.exports={}},jEKc:e=>{e.exports={}},"3wFc":e=>{e.exports={"fit-icon":"lFICM06",fitIcon:"lFICM06","fit-icon-clickable":"aYWKOWF",fitIconClickable:"aYWKOWF"}},"/Evt":e=>{e.exports={box:"eNQzN1I","box-hidden":"_7ByOitF",boxHidden:"_7ByOitF","with-animation":"niVzCWs",withAnimation:"niVzCWs",fadeIn:"n9iMqF4",content:"+tp8jaJ"}},"/jFF":e=>{e.exports={popover:"e4rLWCQ",content:"FPMjOVo",clickable:"DQP4pgk","inline-append":"_5tFuFhP",inlineAppend:"_5tFuFhP","popover-container":"V-093mG",popoverContainer:"V-093mG"}},rXjO:e=>{e.exports={tooltip:"_1DtaAoI","box-content":"l9wFBjm",boxContent:"l9wFBjm",box:"LIc0-hX"}},Gf4R:e=>{e.exports={"item-meta":"r15kMhW",itemMeta:"r15kMhW",spacer:"rVZcp0W","icn-status":"C1dnCNg",icnStatus:"C1dnCNg",tooltip:"_8ifc4MF"}},"+qQp":e=>{e.exports={card:"_2k7hHTq",fadeIn:"GJvw-ZM",expired:"y0ycczG"}},"33yw":e=>{e.exports={container:"_6UpUSN7"}},Fo8R:(e,t,n)=>{var r=n("w9Sv").FilterCSS,o=n("w9Sv").getDefaultWhiteList,i=n("oGsw");function s(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var a=new r;function c(e){return e.replace(l,"&lt;").replace(u,"&gt;")}var l=/</g,u=/>/g,d=/"/g,p=/&quot;/g,f=/&#([a-zA-Z0-9]*);?/gim,m=/&colon;?/gim,g=/&newline;?/gim,h=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,b=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,y=/u\s*r\s*l\s*\(.*/gi;function v(e){return e.replace(d,"&quot;")}function w(e){return e.replace(p,'"')}function O(e){return e.replace(f,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function _(e){return e.replace(m,":").replace(g," ")}function E(e){for(var t="",n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return i.trim(t)}function C(e){return e=E(e=_(e=O(e=w(e))))}function T(e){return e=c(e=v(e))}t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},t.getDefaultWhiteList=s,t.onTag=function(e,t,n){},t.onIgnoreTag=function(e,t,n){},t.onTagAttr=function(e,t,n){},t.onIgnoreTagAttr=function(e,t,n){},t.safeAttrValue=function(e,t,n,r){if(n=C(n),"href"===t||"src"===t){if("#"===(n=i.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(h.lastIndex=0,h.test(n))return""}else if("style"===t){if(b.lastIndex=0,b.test(n))return"";if(y.lastIndex=0,y.test(n)&&(h.lastIndex=0,h.test(n)))return"";!1!==r&&(n=(r=r||a).process(n))}return n=T(n)},t.escapeHtml=c,t.escapeQuote=v,t.unescapeQuote=w,t.escapeHtmlEntities=O,t.escapeDangerHtml5Entities=_,t.clearNonPrintableCharacter=E,t.friendlyAttrValue=C,t.escapeAttrValue=T,t.onIgnoreTagStripAll=function(){return""},t.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var n=!Array.isArray(e),r=[],o=!1;return{onIgnoreTag:function(s,a,c){if(function(t){return!!n||-1!==i.indexOf(e,t)}(s)){if(c.isClosing){var l="[/removed]",u=c.position+l.length;return r.push([!1!==o?o:c.position,u]),o=!1,l}return o||(o=c.position),"[removed]"}return t(s,a,c)},remove:function(e){var t="",n=0;return i.forEach(r,(function(r){t+=e.slice(n,r[0]),n=r[1]})),t+=e.slice(n)}}},t.stripCommentTag=function(e){for(var t="",n=0;n<e.length;){var r=e.indexOf("\x3c!--",n);if(-1===r){t+=e.slice(n);break}t+=e.slice(n,r);var o=e.indexOf("--\x3e",r);if(-1===o)break;n=o+3}return t},t.stripBlankChar=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},t.cssFilter=a,t.getDefaultCSSWhiteList=o},tTwn:(e,t,n)=>{var r=n("Fo8R"),o=n("yuEw"),i=n("9bA5");function s(e,t){return new i(t).process(e)}(t=e.exports=s).filterXSS=s,t.FilterXSS=i,function(){for(var e in r)t[e]=r[e];for(var n in o)t[n]=o[n]}(),"undefined"!=typeof window&&(window.filterXSS=e.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)},yuEw:(e,t,n)=>{var r=n("oGsw");function o(e){var t,n=r.spaceIndex(e);return t=-1===n?e.slice(1,-1):e.slice(1,n+1),"/"===(t=r.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function i(e){return"</"===e.slice(0,2)}var s=/[^a-zA-Z0-9\\_:.-]/gim;function a(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function c(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"'"===n||'"'===n?t:-1}}function l(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function u(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}t.parseTag=function(e,t,n){"use strict";var r="",s=0,a=!1,c=!1,l=0,u=e.length,d="",p="";e:for(l=0;l<u;l++){var f=e.charAt(l);if(!1===a){if("<"===f){a=l;continue}}else if(!1===c){if("<"===f){r+=n(e.slice(s,l)),a=l,s=l;continue}if(">"===f){r+=n(e.slice(s,a)),d=o(p=e.slice(a,l+1)),r+=t(a,r.length,d,p,i(p)),s=l+1,a=!1;continue}if('"'===f||"'"===f)for(var m=1,g=e.charAt(l-m);""===g.trim()||"="===g;){if("="===g){c=f;continue e}g=e.charAt(l-++m)}}else if(f===c){c=!1;continue}}return s<e.length&&(r+=n(e.substr(s))),r},t.parseAttr=function(e,t){"use strict";var n=0,o=0,i=[],d=!1,p=e.length;function f(e,n){if(!((e=(e=r.trim(e)).replace(s,"").toLowerCase()).length<1)){var o=t(e,n||"");o&&i.push(o)}}for(var m=0;m<p;m++){var g,h=e.charAt(m);if(!1!==d||"="!==h)if(!1===d||m!==o)if(/\s|\n|\t/.test(h)){if(e=e.replace(/\s|\n|\t/g," "),!1===d){if(-1===(g=a(e,m))){f(r.trim(e.slice(n,m))),d=!1,n=m+1;continue}m=g-1;continue}if(-1===(g=l(e,m-1))){f(d,u(r.trim(e.slice(n,m)))),d=!1,n=m+1;continue}}else;else{if(-1===(g=e.indexOf(h,m+1)))break;f(d,r.trim(e.slice(o+1,g))),d=!1,n=(m=g)+1}else d=e.slice(n,m),n=m+1,o='"'===e.charAt(n)||"'"===e.charAt(n)?n:c(e,m+1)}return n<e.length&&(!1===d?f(e.slice(n)):f(d,u(r.trim(e.slice(n))))),r.trim(i.join(" "))}},oGsw:e=>{e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}}},"9bA5":(e,t,n)=>{var r=n("w9Sv").FilterCSS,o=n("Fo8R"),i=n("yuEw"),s=i.parseTag,a=i.parseAttr,c=n("oGsw");function l(e){return null==e}function u(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=o.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=function(e){var t={};for(var n in e)Array.isArray(e[n])?t[n.toLowerCase()]=e[n].map((function(e){return e.toLowerCase()})):t[n.toLowerCase()]=e[n];return t}(e.whiteList||e.allowList):e.whiteList=o.whiteList,e.onTag=e.onTag||o.onTag,e.onTagAttr=e.onTagAttr||o.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||o.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||o.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||o.safeAttrValue,e.escapeHtml=e.escapeHtml||o.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new r(e.css))}u.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onTag,i=t.onIgnoreTag,u=t.onTagAttr,d=t.onIgnoreTagAttr,p=t.safeAttrValue,f=t.escapeHtml,m=this.cssFilter;t.stripBlankChar&&(e=o.stripBlankChar(e)),t.allowCommentTag||(e=o.stripCommentTag(e));var g=!1;t.stripIgnoreTagBody&&(g=o.StripTagBody(t.stripIgnoreTagBody,i),i=g.onIgnoreTag);var h=s(e,(function(e,t,o,s,g){var h={sourcePosition:e,position:t,isClosing:g,isWhite:Object.prototype.hasOwnProperty.call(n,o)},b=r(o,s,h);if(!l(b))return b;if(h.isWhite){if(h.isClosing)return"</"+o+">";var y=function(e){var t=c.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=c.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=c.trim(e.slice(0,-1))),{html:e,closing:n}}(s),v=n[o],w=a(y.html,(function(e,t){var n=-1!==c.indexOf(v,e),r=u(o,e,t,n);return l(r)?n?(t=p(o,e,t,m))?e+'="'+t+'"':e:l(r=d(o,e,t,n))?void 0:r:r}));return s="<"+o,w&&(s+=" "+w),y.closing&&(s+=" /"),s+=">"}return l(b=i(o,s,h))?f(s):b}),f);return g&&(h=g.remove(h)),h},e.exports=u},jgnj:t=>{"use strict";t.exports=e},"/jHP":e=>{"use strict";e.exports=t},"IX+1":e=>{"use strict";e.exports=n},luq0:e=>{"use strict";e.exports=r},JjgO:e=>{"use strict";e.exports=o},yHGu:e=>{"use strict";e.exports=i},"4LQx":e=>{"use strict";e.exports=s},LL9j:e=>{"use strict";e.exports=a},"8zM4":e=>{"use strict";e.exports=c},R8iZ:e=>{"use strict";e.exports=l},glLg:e=>{"use strict";e.exports=u}},p={};function f(e){var t=p[e];if(void 0!==t)return t.exports;var n=p[e]={exports:{}};return d[e](n,n.exports,f),n.exports}f.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return f.d(t,{a:t}),t},f.d=(e,t)=>{for(var n in t)f.o(t,n)&&!f.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},f.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),f.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),f.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var m={};return(()=>{"use strict";f.r(m),f.d(m,{default:()=>tc});var e={};f.r(e),f.d(e,{subscribe:()=>nt});var t={};f.r(t),f.d(t,{addItem:()=>yo,itemMarkRead:()=>vo,itemMarkUnread:()=>wo});var n=f("yHGu"),r=f.n(n),o=f("4LQx"),i=f.n(o);const s="object"==typeof window&&window.window===window&&window||"object"==typeof f.g&&f.g.global===f.g&&f.g||"object"==typeof self&&self.self===self&&self,a=Symbol();class c{constructor(){this[a]=new Map}on(e,t){let n=this[a].get(e);n||(this[a].set(e,new Set),n=this[a].get(e)),n.add(t)}once(e,t){var n=this;const r=function(){n.off(e,r),t(...arguments)};this.on(e,r)}one(e,t){this.has(e)||this.on(e,t)}has(e){return this[a].has(e)}off(e,t){if(!this[a].has(e))return;if(void 0===t)return void this[a].delete(e);const n=this[a].get(e);n.delete(t),0===n.size&&this[a].delete(e)}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=this[a].get(e);o&&o.forEach((e=>{e(...n)}))}deferred(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Promise.resolve().then((()=>{this.emit(e,...n)}))}}const l=Symbol.for("globalEventBus"),u=s[l]=s[l]||new c,d="OBS::LOGGER",p="debug",g="verbose",h="info",b="warn",y="error",v="critical",w=[p,g,h,b,y,v],O=w.reduce(((e,t)=>Object.assign(e,{[t]:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u.deferred(d,{entity:e,enrichments:n,level:t})}})),{});Object.defineProperty(O,"force",{value:w.reduce(((e,t)=>Object.assign(e,{[t]:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u.deferred(d,{entity:e,enrichments:n,level:t,force:true})}})),{})});const _=O,E="OBS::STATS",C=["count","time","gauge","set","histogram"],T=C.reduce(((e,t)=>Object.assign(e,{[t]:function(e,n,r){let{rate:o,tags:i,enforceRate:s}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Object.entries({prefix:e,metric:n}).forEach(((e,t)=>{let[n,r]=e;if("string"!=typeof r||!r)throw new TypeError("Expected argument ".concat(t," (").concat(n,") to be a string. Instead got ").concat(typeof r," (").concat(r,")"))}));const a=[e,n].join(".");return u.deferred(E,{type:t,key:a,value:r,rate:o,tags:i,enforceRate:s})}})),{});Object.defineProperty(T,"prefix",{value:e=>C.reduce(((t,n)=>Object.assign(t,{[n]:T[n].bind(T,e)})),{})});const S=T;var j=f("luq0"),x=f.n(j);const P=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return u.deferred(e,{events:n})};function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const A=e=>{return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:e.type,name:e.name,created_at:new Date(e.createdAt).toISOString(),duration:e.duration||null,value:e.value||null},{context_id:(t=e.context).id,user_id:t.userId.toString(),country_code:t.countryCode,browser:t.browserName,locale:t.locale,currency:t.currency,platform:t.platform});var t},N=P("OBS::BIG_QUERY_MONICORE"),L="monicore",D="mobile_web",R="web";class M extends Error{constructor(e){super(e),this.name="ContextNotFoundError"}}const F=Date.now(),B=window.performance&&window.performance.now?window.performance:{now:()=>Date.now()-F,timeOrigin:F};var q=f("glLg"),U=f.n(q),H=f("HFvH");const V=Symbol(),W=(e,t,n)=>{Object.defineProperty(e,t,{value:n,writable:!1,enumerable:!1})},z=e=>{if(e[V])return e;if(!(e=>!!e&&(0,j.isObject)(e)&&!Array.isArray(e))(e))return _.error("FiverrContext computed mixin target is not valid, please contact platform team."),e;const{userAgent:t}=e,n=U()(t),{device:{type:r},os:{name:o}}=n,i={isMobile:H.isMobile(r),isTouch:H.isTouch(r),isIos:H.isIos(o),isAndroid:H.isAndroid(o)};return W(e,V,!0),Object.entries(i).forEach((t=>{let[n,r]=t;return W(e,n,r)})),e};var G=f("1J0n");const K=()=>{const e=x().get(window,"initialData.FiverrContext");return e?z(e):(_.error({message:"Browser context does not exist, please ensure the run time owner sets one on the window scope before using this API"}),G.Q)},Z=()=>{const{pageCtxId:e,userId:t,countryCode:n,locale:r,isMobile:o,currency:i}=K();return{id:e||"",userId:t||"",countryCode:n||"",locale:r||"",currency:i||"",platform:o?D:R}},Q="event",X="error",Y="measure",J=[Q,X],$="START_SPAN_ERROR",ee="END_SPAN_ERROR",te="ADD_EVENT_ERROR",ne="ADD_ERROR_ERROR",re=()=>B.now()+(()=>{let e=B.timeOrigin;return"number"!=typeof e&&(e=B.timing&&B.timing.navigationStart),e})(),oe=e=>!(!(0,j.isUndefined)(e)&&!(0,j.isString)(e))||(_.error("Expected value to be a string. Instead got a ".concat(typeof e),{caughtBy:L,value:e}),!1),ie=e=>!(!(0,j.isString)(e)||(0,j.isEmpty)(e))||(_.error("Expected name to be a string. Instead got a ".concat(typeof e),{caughtBy:L,name:e}),!1),se=()=>{S.count("monicore","context_not_found")},ae=e=>(e=>{e.context.isKnownCrawler||N(A(e))})(e),ce=e=>{if(ie(e))try{((e,t)=>{window._monicore_spans||(window._monicore_spans={}),window._monicore_spans[e]=t})(e,re())}catch(e){e instanceof M?se():_.warn(e,{caughtBy:L,code:$})}},le=(e,t)=>{if(ie(e)){oe(t)||(t=void 0);try{const n=re(),r=(e=>{if(window._monicore_spans)return window._monicore_spans[e]})(e);if(!r)throw new Error("Span ".concat(e," was ended without beeing previously started"));const o={name:e,duration:n-r,value:t,type:Y,createdAt:r,context:Z()};ae(o)}catch(e){e instanceof M?se():_.warn(e,{caughtBy:L,code:ee})}}},ue=(e,t)=>{try{return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Q;if(ie(e))if(J.includes(n)){oe(t)||(t=void 0);try{const r={name:e,value:t,type:n,createdAt:re(),context:Z()};ae(r)}catch(e){e instanceof M?se():_.warn(e,{caughtBy:L,code:te})}}else _.error('Expected "type" to be event or error. Instead got a '.concat(n),{caughtBy:L,code:te})}(e,t,X)}catch(e){_.warn(e,{caughtBy:L,code:ne})}},de=S.prefix("services.layout_server"),pe=(de.time,de.count),fe=(e,t,n)=>{const r="Layout component: ".concat(t,", failed on entry: ").concat(n,"."),o="layout.CSR.".concat(t,".").concat(n);_.error(e instanceof Error?e:new Error(r),{description:r,componentName:t,entryName:n,package:"@fiverr-private/layout-sdk"}),ue(o),pe("layout_component.".concat(t,".error"))};class me extends n.Component{static getDerivedStateFromError(){return{hasError:!0}}constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e,t){const{componentName:n,entryName:r}=this.props;fe(e,n,r)}render(){return this.state.hasError?null:this.props.children}}var ge,he=f("jgnj"),be=f.n(he),ye=new Uint8Array(16);function ve(){if(!ge&&!(ge="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ge(ye)}const we=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const Oe=function(e){return"string"==typeof e&&we.test(e)};for(var _e=[],Ee=0;Ee<256;++Ee)_e.push((Ee+256).toString(16).substr(1));const Ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(_e[e[t+0]]+_e[e[t+1]]+_e[e[t+2]]+_e[e[t+3]]+"-"+_e[e[t+4]]+_e[e[t+5]]+"-"+_e[e[t+6]]+_e[e[t+7]]+"-"+_e[e[t+8]]+_e[e[t+9]]+"-"+_e[e[t+10]]+_e[e[t+11]]+_e[e[t+12]]+_e[e[t+13]]+_e[e[t+14]]+_e[e[t+15]]).toLowerCase();if(!Oe(n))throw TypeError("Stringified UUID is invalid");return n};const Te=function(e,t,n){var r=(e=e||{}).random||(e.rng||ve)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return Ce(r)},Se=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;return e.split(".").reduce(((e,t)=>"object"==typeof e?e[t]:e),t)},je=["get","value","set","configurable","enumerable","writable"],xe=["get","value"];function Pe(e){const t={};function n(e,n){return t[e]=e in t?t[e]:n()}for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];o.forEach((t=>ke.call(e,t,n)))}function ke(e,t){const n=Object.getOwnPropertyDescriptor(this.constructor.prototype,e),r=je.reduce(((r,o)=>{switch(typeof n[o]){case"undefined":break;case"function":xe.includes(o)?r[o]=()=>t("".concat(e,"$").concat(o),n[o].bind(this)):r[o]=n[o];break;default:r[o]=n[o]}return r}),{});Object.defineProperty(this,e,r)}const Ie=new class{constructor(){Pe(this,"node","browser","development","production","testing","plike","toString")}get node(){return"[object process]"===Object.prototype.toString.call(void 0!==s.process?s.process:0)}get browser(){return s.document&&"function"==typeof s.document.createElement||!this.node&&[typeof document,typeof window].every((e=>"undefined"!==e))}get development(){return this.toString().includes("dev")}get dev(){return this.development}get production(){return this.toString().includes("prod")}get prod(){return this.production}get testing(){return this.toString().includes("test")}get test(){return this.testing}get plike(){return this.toString().includes("like")}toString(){return((this.node?Se("process.env.NODE_ENV"):Se("app.environment")||(e=>{if("undefined"==typeof document)return;const t=document.querySelector('meta[name="'.concat(e,'"]'));return t&&t.getAttribute("content")||void 0})("app_environment"))||"").toLowerCase()}},Ae="__ECHO_TABS__",Ne="__ECHO_TABS_RESPONSE__",Le="onEchoReportEnd",De=()=>{new Audio("//fiverr-res.cloudinary.com/video/upload/t_fiverr_audio/kxzjjjzyhrqqo65doz60").play()};class Re{hasFocus(){return document.hasFocus()}}function Me(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function Fe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Me(i,r,o,s,a,"next",e)}function a(e){Me(i,r,o,s,a,"throw",e)}s(void 0)}))}}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class qe{constructor(e){var t=this;Be(this,"_queue",{}),Be(this,"_queueKickedOff",{}),Be(this,"_gotResponse",{}),Be(this,"_callbacks",{}),Be(this,"_handlers",[]),Be(this,"isFocused",(()=>this._page.hasFocus())),Be(this,"subscribe",(e=>(this._handlers.push(e),()=>{const t=this._handlers.indexOf(e);this._handlers.splice(t,1)}))),Be(this,"broadcast",(e=>{this._channel&&this._channel.postMessage(e)})),Be(this,"_shouldPlaySound",(()=>new Promise((e=>{if(!this._channel)return void e(!0);if(this.isFocused())return void e(!0);const t=Te();this._gotResponse[t]=!1,this._callbacks[t]||(this._callbacks[t]={}),this._callbacks[t].onEchoReportEnd=n=>{this._gotResponse[t]=!0,this._anotherTabIsOpen(n)?e(!1):this._currentTabShouldPlaySound(n)?e(!0):e(!1)},this._channel.postMessage({type:Ae,uid:t,callbackFnName:Le}),setTimeout((()=>{this._gotResponse[t]?e(!1):e(!0)}),600)})))),Be(this,"_anotherTabIsOpen",(e=>e.some((e=>e.isFocused)))),Be(this,"_currentTabShouldPlaySound",(e=>{const t=(0,j.orderBy)(e,"createdAt","desc")[0];return this._createdAt>t.createdAt})),Be(this,"playSound",(0,j.throttle)(Fe((function*(){(yield t._shouldPlaySound())&&De()})),1e3,{trailing:!1})),Be(this,"_onBroadcastMessage",(e=>{let{data:t}=e;const{_tabId:n,_createdAt:r}=this,{type:o,callbackFnName:i,uid:s}=t;switch(o){case Ae:{const e=this.isFocused();this._channel.postMessage({type:Ne,uid:s,tabId:n,createdAt:r,callbackFnName:i,isFocused:e});break}case Ne:this._recordInQueue({uid:s,data:t,callbackFnName:i})}this._notifySubscribers(t)})),Be(this,"_notifySubscribers",(e=>{this._handlers.forEach((t=>t(e)))})),Be(this,"_recordInQueue",(e=>{let{uid:t,data:n,callbackFnName:r}=e;this._queue[t]||(this._queue[t]=[]),this._queue[t].push(n),this._queueKickedOff[t]||(this._queueKickedOff[t]=!0,setTimeout((()=>{this._queueKickedOff[t]=!1,this._callbacks[t]&&this._callbacks[t][r]&&this._callbacks[t][r](this._queue[t]),this._queue[t]=[]}),500))})),Ie.browser&&(this._page=e,this._createdAt=Date.now(),this._tabId="".concat(Te()),"BroadcastChannel"in window&&(this._channel=new BroadcastChannel("pinned_flashes::channel"),this._channel.onmessage=this._onBroadcastMessage))}static create(){const e=new Re;return new qe(e)}}const Ue=qe.create(),He={INBOX_MESSAGES:"inbox_message_realtime_notification",PINNED_FLASHES:"pinned_flash_realtime_notification"},Ve=e=>"object"==typeof Fiverr&&"function"==typeof Fiverr[e]||void 0,We=(ze="_logErrorToServer",function(){return Ve(ze)&&Fiverr[ze](...arguments)});var ze;const Ge=Symbol.for("SocketHandler"),Ke=Symbol.for("SocketSubscriptions"),Ze=Symbol.for("AsyncSubscriptionIdPromise"),Qe=Symbol.for("AsyncSubscriptionIdResolver"),Xe="open",Ye="close",Je="message";s[Ke]=s[Ke]||new c,s[Ze]=s[Ze]||new Promise((e=>{s[Qe]=s[Qe]||e}));const $e=function(){let{data:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e){try{e=JSON.parse(e)}catch(t){We("socketHandler","incomingHandler","unable to parse event: ".concat(e))}e&&"object"==typeof e&&e.eventType&&s[Ke].emit(e.eventType,e)}},et=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;"string"==typeof t&&t.split(" ").forEach((t=>s[Ke][e](t,n)))},tt={connect:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&!s[Ge]&&Ie.browser?(s[Ge]=new WebSocket(e),s[Qe](t.payload.subscription),s[Ge].addEventListener(Xe,(()=>{s[Ge].addEventListener(Je,$e),tt.send(t)})),s[Ge].addEventListener(Ye,(function n(){setTimeout((()=>{tt.connect(e,t)}),1500),s[Ge].removeEventListener(Ye,n),s[Ge].removeEventListener(Je,$e)})),tt):tt},send:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ie.browser&&1===s[Ge].readyState&&s[Ge].send(JSON.stringify(e)),tt},on:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return et("on",...t)},once:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return et("once",...t)},off:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return et("off",...t)},getSubscriptionId:()=>s[Ze]};function nt(e){return function(e,t){return tt.on(e,t),()=>{tt.off(e,t)}}([He.INBOX_MESSAGES,He.PINNED_FLASHES].join(" "),e)}var rt=f("JjgO"),ot=f.n(rt),it=f("LL9j");const st="realtime_notifications::try_me",at="realtime_notifications::sound_enabled_change",ct="realtime_notifications::realtime_enabled_change",lt="realtime_notifications",ut="realtime_notifications_shared";function dt(e,t){return function(e){return e.notifications}(e)[t]}function pt(e){return e.toasts}function ft(e){return pt(e).length>=3}function mt(e){return pt(e).map((t=>dt(e,t)))}function gt(e){return e.settings}function ht(e){return gt(e).realtimeEnabled}function bt(e){return e.queue}function yt(e){return 0===bt(e).length}const vt="QUEUE_ACTIONS_ENQUEUE",wt="QUEUE_ACTIONS_DEQUEUE",Ot="QUEUE_ACTIONS_REMOVE";function _t(){return(e,t)=>{if(yt(t()))return null;const n=bt(t())[0];return e({type:wt}),n}}const Et="TAB_COMMUNICATION_NOTIFICATION_CONSUMED",Ct=e=>()=>{Ue.broadcast(function(e){return{type:Et,payload:e}}(e))};function Tt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join(".")}const St=Tt("pinned_flashes","realtime_notifications_package");const jt={count:function(e){S.count(St,e)}};function xt(e){return Tt("toast",e)}const Pt={NOTIFICATION_TOAST_EMITTED:xt("emitted"),NOTIFICATION_TOAST_CLICKED:xt("clicked"),NOTIFICATION_TOAST_DISMISSED:xt("dismissed")},kt="TOASTS_ACTIONS_ADD",It="TOASTS_ACTIONS_REMOVE";const At=e=>t=>{t(function(e){return{type:It,payload:e}}(e)),t(function(e){return{type:Dt,payload:e}}(e)),t(Nt())},Nt=()=>(e,t)=>{if(ft(t()))return;const n=e(_t());if((0,j.isNil)(n))return;e(function(e){return{type:kt,payload:e}}(dt(t(),n))),e(Ct(n)),jt.count(Pt.NOTIFICATION_TOAST_EMITTED)};const Lt="NOTIFICATIONS_ACTIONS_ADD",Dt="NOTIFICATIONS_ACTIONS_REMOVE",Rt=e=>(t,n,r)=>{let{tabManager:o}=r;const i=n();if(t(function(e){return{type:Lt,payload:e}}(e)),function(e){return gt(e).soundEnabled}(i)&&o.playSound(),function(e,t){return!!dt(e,t)}(i,e.id))return;const s=o.isFocused()&&!ft(i);t(function(e){return{type:vt,payload:e.id}}(e)),s&&t(Nt())};const Mt=e=>t=>{t(function(e){return{type:Ot,payload:e}}(e))};const Ft="SETTINGS_ACTIONS_SET_SOUND_ENABLED",Bt="SETTINGS_ACTIONS_SET_NOTIFICATIONS_ENABLED";function qt(e){return e.username}const Ut=ot().shape({subscribe:ot().func.isRequired}),Ht=ot().shape({id:ot().string.isRequired,subType:ot().string,msgParams:ot().object}),Vt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return(0,j.transform)(n,((t,n)=>{const r=(0,j.result)(e,n);return r&&t.push(r),!t.length}),[])[0]};function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach((function(t){Gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Kt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return zt(zt({},e),{},{[t[0]]:Vt(e,...t)||n})},Zt="DEFAULT_VALUE",Qt="times",Xt="present",Yt="ribbon",Jt="docs",$t="bell",en="team",tn="pencil",nn="member",rn={admin_moved_gig:tn,and_co_announcement:Xt,audio_file_deny:tn,business_accounts_team_invitation_accepted_invitee:en,business_accounts_team_invitation_accepted_invitor:nn,business_accounts_team_invitation_created:en,workspaces_team_invitation_accepted:nn,workspaces_team_invitation_created:en,buyer_brief_notification_for_buyer_multi:Jt,buyer_brief_notification_for_buyer_single:Jt,buyer_brief_notification_for_buyer:Jt,buyer_profile_reminder:"form",buying_conversion_prediction_intervention_b:$t,buying_conversion_prediction_intervention_c:$t,buying_conversion_prediction_intervention:$t,byob_user_notification:Xt,custom:Xt,delayed_private_review:tn,deny_user_notif:Qt,featured_promotion:Yt,free_gig:Xt,gig_handpicked:Yt,gig_pro_toggled_off:Jt,gig_pro_toggled_on:Jt,id_verification_document_unrecognized:$t,id_verification_failed:$t,id_verification_indecisive_max_tries:$t,id_verification_indecisive_try_again:$t,id_verification_low_quality:$t,id_verification_passed:$t,level_down_notification:Yt,level_trs_kept_notification:Yt,level_trs_nominated_notification:Yt,level_two_kept_notification:Yt,level_up_notification:Yt,new_levels_system_notification:Yt,new_user_notification:Jt,notify_user_on_referral_registration:Xt,optional_phone_verification:"phone",pro_seller_account_created:Jt,profile_image_not_unique_deleted:tn,profile_image_not_unique_warning:tn,prompt_user_change_password:Jt,request_paused:Jt,request_unapproved:Qt,seo_restructure_announcement:tn,shopping_balance_deposit_pending:Xt,shopping_balance_deposit_share:Xt,shopping_balance_deposit:Xt,soft_deny_user_notif:tn,team_member_added:Jt,trigger_id_verification:$t,try_live:$t,welcome_back_from_ooo_mode:"suitcase",business_chat_added:$t},on=e=>"inbox"===e.type,sn=e=>(on(e)?e.subType="conversation":e.subType=e.sub_type,e),an=e=>Kt(e,["username","msg_params.seller","msg_params.user","msg_params.buyer"]),cn=e=>Kt(e,["unreadCount","unread_count"]),ln=e=>Kt(e,["type","msg_type"]),un=e=>Kt(e,["profilePicture","images.user","msg_params.images.user","msg_params.images.profile_image"]),dn=e=>Kt(e,["msg_params.icon"],rn[e.subType]),pn=e=>Kt(e,["isRead","is_read"]),fn=e=>Kt(e,["online","is_online"]),mn=e=>Kt(e,["url","msg_params.full_url","msg_params.url"],"#!"),gn=e=>Kt(e,["previewImage","images.gig"]),hn=e=>Kt(e,["userMessage","params.message_content","preview_text"]),bn=e=>on(e)?e:Kt(e,["content","params.content","msg_params.content"],Zt),yn=e=>[an,cn,ln,sn,un,dn,pn,fn,mn,gn,hn,bn].reduce(((e,t)=>t(e)),e),vn="Something went wrong",wn=function(e){let t,{module:n="",payload:r={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=e instanceof Error?e:"string"==typeof e?new Error(e):new Error(vn),t.details={payload:r,package:"@fiverr-private/realtime_notifications",module:n},setTimeout((()=>{throw t}))},On=(e,t)=>n=>class extends r().Component{componentDidCatch(n){wn(n,{module:e,payload:{componentName:t}})}render(){return r().createElement(n,this.props)}};function _n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class En extends r().Component{constructor(e){super(e),_n(this,"onRealtimeSettingsChange",(()=>{const{realtimeEnabled:e}=this.props;e?this.registerSocket():(this.socketUnsubscribe(),this.socketUnsubscribe=j.noop)})),_n(this,"handleNewNotification",(e=>{const{handleNewNotification:t}=this.props;t(yn(e))})),_n(this,"onCurrentTabStorageChange",(e=>{let{detail:t}=e;this.onStorageChanges(t)})),_n(this,"registerToSettingsChanges",(()=>{window.addEventListener("storage",this.onStorageChanges),document.addEventListener(at,this.onCurrentTabStorageChange),document.addEventListener(ct,this.onCurrentTabStorageChange)})),_n(this,"onStorageChanges",(e=>{let{key:t,newValue:n}=e;const{setSoundEnabled:r,setNotificationsEnabled:o}=this.props,i="true"===n;switch(t){case at:r(i);break;case ct:o(i)}})),_n(this,"registerToTryMeDemoEvent",(()=>{document.addEventListener(st,this.onTryMeDemoEvent)})),_n(this,"onTryMeDemoEvent",(()=>{const{username:e}=this.props,t=(e=>({id:"dummy",type:"notifications",sub_type:"try_live",is_read:!0,updated_at:Math.round(Date.now()/1e3),msg_params:{user:e}}))(e);this.handleNewNotification(t)})),this.socketUnsubscribe=j.noop,this.handleCrossTabCommunications=this.handleCrossTabCommunications.bind(this)}componentDidMount(){this.onRealtimeSettingsChange(),this.registerToTryMeDemoEvent(),this.registerToSettingsChanges(),this.props.tabManager.subscribe(this.handleCrossTabCommunications),this.registerWindowFocus()}componentDidUpdate(e){this.props.realtimeEnabled!==e.realtimeEnabled&&this.onRealtimeSettingsChange()}componentWillUnmount(){document.removeEventListener(st,this.onTryMeDemoEvent),window.removeEventListener("storage",this.onStorageChanges),document.removeEventListener(at,this.onCurrentTabStorageChange),document.removeEventListener(ct,this.onCurrentTabStorageChange),this.socketUnsubscribe()}registerSocket(){const{socket:e}=this.props;this.socketUnsubscribe=e.subscribe(this.handleNewNotification)}registerWindowFocus(){window.addEventListener("focus",this.props.handleFocus)}handleCrossTabCommunications(e){const{type:t}=e;switch(t){case Et:{const t=e.payload;this.props.markNotificationConsumed(t);break}}}render(){return null}}En.propTypes={socket:Ut,username:ot().string.isRequired,handleNewNotification:ot().func.isRequired,tabManager:ot().object.isRequired,handleFocus:ot().func.isRequired,markNotificationConsumed:ot().func.isRequired,setNotificationsEnabled:ot().func.isRequired,setSoundEnabled:ot().func.isRequired,realtimeEnabled:ot().bool.isRequired};const Cn=(0,j.flow)((0,it.connect)((e=>({username:qt(e),realtimeEnabled:ht(e)})),(e=>({handleNewNotification:t=>e(Rt(t)),handleFocus:()=>e((e=>{for(const t of(0,j.range)(3))e(Nt())})),setSoundEnabled:t=>e({type:Ft,payload:t}),setNotificationsEnabled:t=>e({type:Bt,payload:t}),markNotificationConsumed:t=>e(Mt(t))}))),On(lt,"Listener"))(En);function Tn(e){const t=document.querySelector('link[rel="shortcut icon"]');t&&t.setAttribute("href",e)}const Sn={decorate:function(){Tn("https://fiverr-res.cloudinary.com/npm-assets/layout-server/favicon-active.9a2c248.ico")},reset:function(){Tn("https://fiverr-res.cloudinary.com/npm-assets/layout-server/favicon.52df53a.ico")}};function jn(e){let{isActive:t}=e;return t?r().createElement(Pn,null):r().createElement(xn,null)}function xn(){return(0,n.useEffect)((()=>{Sn.reset()}),[]),null}function Pn(){return(0,n.useEffect)((()=>{Sn.decorate()}),[]),null}jn.propTypes={isActive:ot().bool.isRequired};const kn=(0,j.flow)((0,it.connect)((e=>{const t=!yt(e)||!function(e){return 0===pt(e).length}(e);return{isActive:t}})),On(lt,"Favicon"))(jn);var In=f("8zM4"),An=f("R8iZ"),Nn=f.n(An);function Ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(n),!0).forEach((function(t){Rn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(n),!0).forEach((function(t){Bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const qn=(0,In.combineReducers)({notifications:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Lt:{const n=t.payload;return Dn(Dn({},e),{},{[n.id]:n})}case Dt:{const n=t.payload,r=Dn({},e);return delete r[n.id],r}default:return e}},toasts:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kt:{const n=t.payload;return[...e,n.id]}case It:{const n=t.payload;return e.filter((e=>e!==n.id))}default:return e}},queue:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:return[...e,t.payload];case wt:const[,...n]=e;return n;case Ot:const r=t.payload;return e.filter((e=>e!==r));default:return e}},settings:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ft:return Fn(Fn({},e),{},{soundEnabled:t.payload});case Bt:return Fn(Fn({},e),{},{realtimeEnabled:t.payload});default:return e}},username:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e}}),Un="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||In.compose;function Hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(n),!0).forEach((function(t){Wn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const zn=e=>function(t){const n=Vn(Vn({},K()),t);return r().createElement(e,n)};var Gn=f("jOia");const Kn={children:rt.func.isRequired,locale:rt.string};function Zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Xn=e=>{let{children:t,locale:n=Gn.DEFAULT_LOCALE}=e;return t({i18n:i18n.spawn(n)})};Xn.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(n),!0).forEach((function(t){Qn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Kn);const Yn=zn(Xn);function Jn(){return Jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jn.apply(this,arguments)}class $n extends r().Component{getChildContext(){return{locale:this.props.locale}}render(){return this.props.children}}$n.childContextTypes={locale:ot().string,children:ot().any},$n.propTypes={locale:ot().string,children:ot().any};const er=e=>{function t(t,n){let{locale:o}=n;return r().createElement(Yn,{locale:o},(n=>{let{i18n:o}=n;return r().createElement(e,Jn({i18n:o},t))}))}return t.contextTypes={locale:ot().string},t.displayName="I18nProviderHoc(".concat(e.displayName||e.name||"Component",")"),t};var tr=f("IX+1"),nr=f.n(tr);const rr={send:P("OBS::BIG_QUERY")},or={notification:{shown:"notification.shown",clicked:"notification.clicked",markedAsRead:"notification.marked_as_read",markedAsUnread:"notification.marked_as_unread"}},ir="imp",sr={group:"notifications",entity:"client"},ar={action:{type:"click"}},cr=e=>lr(e,ar),lr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{item:r,layoutSource:o}=n;return(0,j.merge)({type:e},sr,t,ur(),dr(),pr({item:r,layoutSource:o}))}},ur=()=>{const{pageCtxId:e}=K();return{page:{ctx_id:e}}},dr=()=>{const{userId:e}=K();return{user:{id:e}}},pr=e=>{let{item:t,layoutSource:n}=e;return t?{notification:{id:t.id,type:t.subType,source:n}}:{}},{notification:fr}=or,mr={[fr.clicked]:cr("clicked_on_notification"),[fr.markedAsRead]:cr("marked_notification_as_read"),[fr.markedAsUnread]:cr("marked_notification_as_unread")},gr={action:{type:ir},group:"notification_impressions"},{notification:hr}=or,br={[hr.shown]:(yr="notification_is_shown",lr(yr,gr))};var yr;const vr={BIG_QUERY:{name:"bigQuery",events:mr,reporter:rr.send},IMPRESSION:{name:"impression",events:br}},wr=[vr.BIG_QUERY];const Or=new class{report(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&(arguments.length>2&&void 0!==arguments[2]?arguments[2]:wr).forEach((n=>{let{events:r,reporter:o}=n;return this._reportEvent(r[e],o,t)}))}_reportEvent(e,t,n){if(!e)return;t(e(n))}},_r={DRAWER:"drawer",TOAST:"toast"};function Er(e){if(e instanceof Window||e instanceof HTMLDocument)return{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight,width:window.innerWidth,height:window.innerHeight};const{left:t,top:n,right:r,bottom:o,width:i,height:s}=e.getBoundingClientRect();return{left:t,top:n,right:r,bottom:o,width:i,height:s}}const Cr=(e,t)=>e-t,Tr=(e,t)=>t-e;function Sr(e){let{container:t=window,percent:n=50}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Er(e),o=Er(t),i=n/100,s=e=>{let[t,n,s]=e;return s(r[t],o[t])+r[n]>=r[n]*i};return!["width","height"].some((e=>0===r[e]))&&[["top","height",Cr],["left","width",Cr],["right","width",Tr],["bottom","height",Tr]].every(s)}const jr=new class{constructor(e){Pe(this,"available");try{this.storage=Ie.browser&&window[e]}catch(e){}["get","set"].forEach((e=>this[e]=this[e].bind(this)))}get available(){if(!Ie.browser||!this.storage)return!1;const e=Math.random().toString(36).substring(2);try{return this.storage.setItem(e,!0),this.storage.removeItem(e),!0}catch(e){return!1}}get(e){if(!this.available)return;const t=this.storage.getItem(e);try{return JSON.parse(t)}catch(e){return t}}set(e,t){return this.available?new Promise(((n,r)=>{try{this.storage.setItem(e,JSON.stringify(t)),n()}catch(e){r(e)}})):new Promise((e=>e))}remove(e){this.available&&this.storage.removeItem(e)}size(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=!t.length;let o=0;r&&(t=Array.from(Array(this.storage.length)).map(((e,t)=>this.storage.key(t))));const i=t.reduce(((e,t)=>{const n=(t+this.storage.getItem(t)).length;return e[t]=n,r&&(o+=n),e}),{});return r&&Object.assign(i,{total:o}),i}}("localStorage");function xr(e){const{width:t,height:n}=e.getBoundingClientRect();if(0!==t||0!==n)return null;for(;e;){if(e===document.body)return null;if("none"===window.getComputedStyle(e).display)return e;e=e.parentElement}return e}const Pr="collect-impressions",kr={capture:!1,once:!1,passive:!1},Ir="impressionable_events",Ar="data-impression-collected",Nr=["load","resize","scroll","touchmove"],Lr=e=>{e&&!x().isEmpty(e)&&rr.send(...e)};function Dr(){const e=jr.get(Ir);e&&(Lr(e),jr.set(Ir,[]))}try{Dr.throttled=x().throttle(Dr,500,{leading:!1}),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",Dr,{once:!0}):Dr(),window.addEventListener("beforeunload",Dr,{once:!0})}catch(e){}const Rr={data:[],container:"undefined"!=typeof window?window:null,DOMAttribute:"id",dataIdentifier:"id"};class Mr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ie.browser)throw new Error("Impressionable can not be instantiated from a non browser environment");this.options=Object.assign({},Rr,e),this.options.DOMSelector=this.options.DOMSelector||"[".concat(this.options.DOMAttribute,"]");const{data:t,container:n,DOMSelector:r,excludeDOMSelector:o,dataProperty:i,dataIdentifier:s}=this.options;if(!Array.isArray(t))throw new TypeError('Impressionable must receive a "data" array argument. Got '.concat(typeof t));const a=n===window?document.body:n;if(!a)throw new Error("Impressionable container (when passed) expects a DOM element. Got a ".concat(typeof n));const c=Array.from(a.querySelectorAll("".concat(r,":not([").concat(Ar,'="true"])'))),l=o?Array.from(a.querySelectorAll(o)):[],u=x().without(c,...l);Object.assign(this,{container:n,impressed:[],unimpressed:u}),this.data=this.options.data.reduce(((e,t,n)=>(s in t&&(e[t[s]]=Object.assign({$index:n},function(e){try{return JSON.parse(JSON.stringify(e))}catch(e){throw new SyntaxError("Data was expected to be valid for JSON. Got error: ".concat(e))}}(i?x().get(t,i):t))),e)),{}),this.collect=x().throttle(this.collect.bind(this),200,{leading:!1}),this.live()}collect(){const{container:e}=this,t=e===window||Sr(e,{percent:100}),n=[];let r=this.unimpressed.length;for(;r--;){const o=this.unimpressed[r];if(!Sr(o,{container:e}))continue;if(!t&&!Sr(o))continue;const i=this.getImpressionData(o);i?(n.push(i),o.setAttribute(Ar,"true")):o.setAttribute(Ar,"error"),this.impress(r)}return n.length&&(this.storeImpressions(...n),Dr.throttled()),this}impress(e){this.impressed.push(...this.unimpressed.splice(e,1)),this.unimpressed.length||this.retire()}getImpressionData(e){const t=e.getAttribute(this.options.DOMAttribute);let n=this.data[t];if("function"==typeof this.options.enrich){const t=this.options.enrich(n,e);"object"!=typeof t&&!1!==t||(n=t)}return n}storeImpressions(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"function"==typeof this.options.onImpression&&t.forEach(this.options.onImpression),jr.available?this.stored=t:Lr(t)}get stored(){return jr.get(Ir)||[]}set stored(e){const t=this.stored;t.push(...e),jr.set(Ir,t).catch((()=>{Lr(...t),jr.remove(Ir),S.count("fe_events.error.impressionable","localstorage",1)}))}static get CUSTOM_EVENT(){return Pr}get containerEvents(){const e=[Pr];return this.container!==window&&e.push("scroll","touchmove"),e}live(){var e;this.containerEvents.forEach((e=>this.container.addEventListener(e,this.collect,kr))),Nr.forEach((e=>window.addEventListener(e,this.collect,kr))),(e=this.container,new Promise(((t,n)=>{Ie.browser||n("emerge can not be triggered from a non browser environment");const r=xr(e);if(null===r)return void t(e);if("undefined"==typeof MutationObserver)return void t(e);const o=new MutationObserver((()=>{null===xr(e)&&(t(e),o.disconnect())}));o.observe(r,{attributes:!0})}))).then(this.collect).catch((e=>{throw e}))}die(){this.containerEvents.forEach((e=>this.container.removeEventListener(e,this.collect,kr))),Nr.forEach((e=>window.removeEventListener(e,this.collect,kr)))}retire(){this.retired||Object.assign(this,{impressed:[],unimpressed:[],data:{},options:{},retired:!0}).die()}}const Fr=e=>{const t=100/e;return(0,j.range)(0,101,t).map((e=>e/100))},Br=e=>{let{observableRef:t=null,onObserve:r=j.noop,onIntersect:o=j.noop,onNotSupported:i=j.noop,intersectionThreshold:s=0,thresholdSteps:a=5}=e;return(0,n.useEffect)((()=>{const e=e=>{const t={threshold:Fr(a)},n=new IntersectionObserver((t=>{const[{intersectionRatio:i}]=t,a=i>0,c=i>=s;a&&o({intersectionRatio:i}),a&&c&&(r({intersectionRatio:i}),n.unobserve(e))}),t);return n};return(()=>{if(!window||!window.IntersectionObserver)return void i();if(!t)throw new Error("observableRef is not defined");const n=t.current,r=e(n);return n&&r.observe(n),()=>r.disconnect()})()}),[t,r,o,i,s,a]),t},qr=e=>{let{buildImpressionData:t=j.noop,eventKey:r}=e;const o=(0,n.useRef)(),i=(0,n.useRef)(),s=(0,n.useCallback)(((e,n)=>{const{events:o}=vr.IMPRESSION,i=o[r],s=t(n);return i((0,j.merge)({},e,s))}),[t,r]),a=(0,n.useCallback)((()=>{o.current&&(i.current&&i.current.die(),i.current=new Mr({container:o.current,enrich:s}))}),[i,o,s]);(0,n.useEffect)(a,[]);return Br({observableRef:o,onObserve:()=>{if(!i.current)return;(0,j.size)(i.current.unimpressed)>0&&i.current.collect()}}),{containerRef:o}},Ur=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e;return t=>n=>r().createElement(t,e(n))};f("jEKc");function Hr(e){let{username:t,imageUrl:n,online:o}=e;const i=nr()("profile-picture",{online:o});return r().createElement("div",{className:i,title:t},t&&r().createElement("div",{className:"user-initial font-accent"},t[0]),n&&r().createElement("div",{style:{backgroundImage:"url(".concat(n,")")},className:"user-image"}))}Hr.propTypes={username:ot().string,imageUrl:ot().string,online:ot().bool},Hr.defaultProps={online:!1};const Vr=e=>{const t=document.createElement("div");t.innerHTML=e;const n=t.querySelector("img");return n?n.getAttribute("src"):null},Wr=(0,j.flow)(Ur((function(){let{item:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{username:e.username,online:e.online,imageUrl:Vr(e.profilePicture)}})),On(ut,"ProfilePicture"))(Hr);f("vzmT");function zr(e){let{icon:t,isRead:n}=e;const o=nr()(["notification-icon",t],{read:n});return r().createElement("i",{className:o})}zr.propTypes={icon:ot().string,isRead:ot().bool},zr.defaultProps={icon:"bell",isRead:!1};const Gr=Ur((e=>{let{item:t}=e;return{isRead:t.isRead,icon:t.icon}}))(zr),Kr="notifications";var Zr=f("/jHP"),Qr=f.n(Zr);const Xr=e=>!0===e?"":"=".concat(encodeURIComponent(e)),Yr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map((t=>t+Xr(e[t]))).join("&")},Jr=/\(?([^(]?):(\w+)\)?/g,$r="[pathfinder]:",eo="https://www.fiverr.com",to="/",no="__dev__",ro=(e,t)=>{const n=[$r,e].join(" ");_.error(n),"function"==typeof t&&t(n)},oo=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{errorCallback:r,query:o,absolute:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||"string"!=typeof e)return ro("Route missing for ".concat(e),r),to;if(0===e.indexOf(no))return ro("Using dev only route. Make sure to replace it before going live."),to;try{t=fiverrRoutes[e]}catch(e){return ro("Missing global routes object",r),to}if(!t)return ro("Can't find the requested route (".concat(e,"). It may be misspelled or got removed"),r),to;const s=[];return t=t.replace(Jr,((e,t,r)=>{if(n){const e=n[r];if(e)return"".concat(t).concat(e)}return"("!==e[0]&&s.push(r),""})),s.length?(ro("Required params missing for ".concat(e," route: ").concat(s.join(", ")),r),to):(o&&(t=[t,Yr(o)].join("?")),i?eo+t:t)};function io(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function so(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){io(i,r,o,s,a,"next",e)}function a(e){io(i,r,o,s,a,"throw",e)}s(void 0)}))}}const ao="notifications_drawer_package/src/api/toggleRead/index.js",co="Failed toggling item state",lo={markNotificationUnread:oo("mark_notifications_item_as_unread"),markNotificationRead:oo("mark_notifications_item_as_read"),markConversationUnread:oo("mark_as_unread_conversations"),markConversationRead:oo("mark_as_read_conversations")},uo=function(){var e=so((function*(e){try{return yield Qr()({url:lo.markNotificationUnread,method:"POST",data:{id:e}})}catch(e){wn(e,{module:"notification_drawer",payload:{filename:ao,url:lo.markNotificationUnread,action:"markNotificationUnread",message:co}})}}));return function(t){return e.apply(this,arguments)}}(),po=function(){var e=so((function*(e){try{return yield Qr()({url:lo.markNotificationRead,method:"POST",data:{id:e}})}catch(e){wn(e,{filename:ao,url:lo.markNotificationRead,action:"markNotificationRead",message:co})}}));return function(t){return e.apply(this,arguments)}}(),fo=function(){var e=so((function*(e){try{return yield Qr()({url:lo.markConversationUnread,method:"POST",data:{id:e}})}catch(e){wn(e,{filename:ao,url:lo.markConversationUnread,action:"markConversationUnread",message:co})}}));return function(t){return e.apply(this,arguments)}}(),mo=function(){var e=so((function*(e){try{return yield Qr()({url:lo.markConversationRead,method:"POST",data:{id:e}})}catch(e){wn(e,{filename:ao,url:lo.markConversationRead,action:"markConversationRead",message:co})}}));return function(t){return e.apply(this,arguments)}}(),go=e=>e===Kr,ho="ACTION_TYPE_MONITOR",bo=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return{type:ho,label:["NotificationsDrawer",e,...n].filter(Boolean).join(".")}},yo=(e,t)=>({source:e,item:yn(t),type:"ITEM_ADD"}),vo=e=>{let{source:t,id:n}=e;return e=>{(e=>{let{source:t,id:n}=e;(go(t)?po:mo)(n)})({source:t,id:n}),e(bo(t,"mark_item","read")),e({source:t,id:n,type:"ITEM_MARK_READ"})}},wo=e=>{let{source:t,id:n}=e;return e=>{(e=>{let{source:t,id:n}=e;(go(t)?uo:fo)(n)})({source:t,id:n}),e(bo(t,"mark_item","unread")),e({source:t,id:n,type:"ITEM_MARK_UNREAD"})}},Oo="mobile",_o=[Oo,"tablet"],Eo=U()().device.type,Co=Oo===Eo,To=_o.includes(Eo),So="ui-toggle-prevent-close",jo={WILL_OPEN:"togglerWillOpen",DID_OPEN:"togglerDidOpen",WILL_CLOSE:"togglerWillClose",DID_CLOSE:"togglerDidClose"},xo="shouldPreventCloseAction";function Po(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function ko(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Po(i,r,o,s,a,"next",e)}function a(e){Po(i,r,o,s,a,"throw",e)}s(void 0)}))}}function Io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ao=e=>"function"==typeof e,No=function(e){if(Ao(e)){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e(...n)}};class Lo extends n.Component{constructor(e){var t;super(e),t=this,Io(this,"onBodyClick",(e=>{const{isOpen:t}=this.state,{target:n}=e;return t?Ao(this.shouldPreventCloseAction)&&!0===this.shouldPreventCloseAction(e)||this.shouldPreventPropagationByClassName(n)||this.shouldPreventPropagationByElement(n)?null:void this.close(e):null})),Io(this,"notPropagatingElements",new Set),Io(this,"open",function(){var e=ko((function*(e){e&&e.persist&&e.persist();const n=No(t[jo.WILL_OPEN],e);n instanceof Promise&&(yield n),t.setState({isOpen:!0},(()=>{t.bindClickListener(),No(t[jo.DID_OPEN],e)}))}));return function(t){return e.apply(this,arguments)}}()),Io(this,"close",function(){var e=ko((function*(e){e&&e.persist&&e.persist();const n=No(t[jo.WILL_CLOSE],e);n instanceof Promise&&(yield n),t.setState({isOpen:!1},(()=>{t.removeClickListener(),No(t[jo.DID_CLOSE],e)}))}));return function(t){return e.apply(this,arguments)}}()),Io(this,"toggle",function(){var e=ko((function*(e){const{isOpen:n}=t.state,r=n?t.close:t.open;yield r(e)}));return function(t){return e.apply(this,arguments)}}()),Io(this,"bindClickListener",(()=>{const{bindBodyClickListener:e}=this.props;!1!==e&&document.body.addEventListener("click",this.onBodyClick)})),Io(this,"removeClickListener",(()=>document.body.removeEventListener("click",this.onBodyClick))),Io(this,"shouldPreventPropagationByClassName",(e=>!(!e||!e.classList)&&e.classList.contains(So))),Io(this,"shouldPreventPropagationByElement",(e=>{if(!e)return!1;if(!e.contains)return!1;if(!this.notPropagatingElements.size)return!1;if(this.notPropagatingElements.has(e))return!0;for(const t of this.notPropagatingElements)if(t.contains&&t.contains(e))return!0;return!1})),Io(this,"preventCloseAction",(e=>{if(e)return this.notPropagatingElements.has(e)?null:void this.notPropagatingElements.add(e)})),this.state={isOpen:e.defaultOpen||!1},[jo.WILL_OPEN,jo.DID_OPEN,jo.WILL_CLOSE,jo.DID_CLOSE,xo].forEach((t=>{Ao(this[t])?this[t]=this[t].bind(this):Ao(e[t])&&(this[t]=e[t].bind(this))}),this)}componentDidMount(){const{isOpen:e}=this.state;e&&this.bindClickListener()}componentWillUnmount(){this.removeClickListener()}render(){const{children:e}=this.props;if(!["undefined","function"].includes(typeof e))throw new TypeError("Toggler: `children` must be a function");const{close:t,open:n,toggle:r,preventCloseAction:o}=this,{isOpen:i}=this.state,s=this.toggleContent?this.toggleContent.bind(this):e;return s?s({isOpen:i,close:t,open:n,toggle:r,preventCloseAction:o}):null}}Lo.propTypes={children:rt.node,bindBodyClickListener:rt.bool,defaultOpen:rt.bool},Lo.defaultProps={defaultOpen:!1},Object.assign(Lo,{PREVENT_CLOSE_CLASS:So});const Do=Lo,Ro=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e;const i=Object.assign({},t,o?o.props:{},n);return r().isValidElement(o)?r().cloneElement(o,i):("function"==typeof e&&(o=e(i)),["undefined","boolean"].includes(typeof o)?null:o)},Mo="left",Fo="right",Bo="top",qo="bottom",Uo=(e,t)=>Object.keys(Ho).map((e=>"".concat(t,".").concat(e))).join(", "),Ho={LEFT:Mo,RIGHT:Fo,TOP:Bo,BOTTOM:qo,LEFT_TOP:"left-top",LEFT_BOTTOM:"left-bottom",RIGHT_TOP:"right-top",RIGHT_BOTTOM:"right-bottom",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Vo={[Mo]:Fo,[Fo]:Mo,[Bo]:qo,[qo]:Bo},Wo={CLICK:"click",HOVER:"hover"},zo="Position passed is not a valid position. Valid positions include: ".concat(Uo(0,"POSITIONS")),Go="Trigger passed is not a valid trigger. Valid triggers include: ".concat(Uo(0,"TRIGGERS")),Ko={attributes:["class"],childList:!0,subtree:!0,characterData:!0},Zo=e=>{let{position:t,boxDimensions:n,anchorDimensions:r}=e;const{innerWidth:o,innerHeight:i}=window;switch(t){case Ho.LEFT:return r.left-n.width<0;case Ho.RIGHT:return r.right+n.width>o;case Ho.TOP:return r.top-n.height<0;case Ho.BOTTOM:return r.bottom+n.height>i;default:return!1}};var Qo=f("/Evt"),Xo=f.n(Qo);function Yo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yo(Object(n),!0).forEach((function(t){$o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ei=e=>e?e.scrollHeight>e.clientHeight?e:ei(e.parentNode):null,ti=e=>{let{position:t,box:n,anchor:r,allowOverflow:o,fullWidth:i,boxFitContent:s,appendToBody:a}=e;if(!n||!r)return{};const c=r.getBoundingClientRect();let l;l=a?c:{top:r.offsetTop,bottom:r.offsetTop+c.height,left:r.offsetLeft,right:r.offsetLeft+c.width,width:c.width,height:c.height};const u=n.getBoundingClientRect(),{top:d,bottom:p,left:f,right:m,width:g,height:h}=l,{width:b,height:y}=u,v=d+h/2-y/2,w=f+g/2-b/2;let O,_,[E,C]=t.split("-");!o&&Zo({boxDimensions:u,anchorDimensions:c,position:E})&&(E=Vo[E]);const T=(e=>(0,j.camelCase)(["padding",(0,j.capitalize)(Vo[e])].join("")))(E),S=(e=>{let{position:t,anchorDimensions:n,boxDimensions:r}=e;switch(t){case Ho.LEFT:return n.left-r.width;case Ho.RIGHT:return n.left+n.width;case Ho.TOP:return n.top-r.height;case Ho.BOTTOM:return n.bottom}})({anchorDimensions:l,boxDimensions:u,position:E});switch(E){case Ho.LEFT:case Ho.RIGHT:_=v,O=S;break;case Ho.TOP:case Ho.BOTTOM:_=S,O=w}switch(C){case Ho.LEFT:O=f;break;case Ho.RIGHT:O=m-b;break;case Ho.TOP:_=d;break;case Ho.BOTTOM:_=p-y}i&&(O=8);const x="".concat(a?window.scrollX+O:O,"px"),P="".concat(a?window.scrollY+_:_,"px");return{style:Jo(Jo(Jo({},i&&{width:"".concat(window.innerWidth-16,"px")}),s&&{minWidth:"".concat(l.width,"px")}),{},{left:x,top:P,[T]:"".concat(8,"px")}),position:[E,C].filter(Boolean).join("-")}},ni=e=>{let{children:t,position:i,container:s,anchor:a,className:c,contentClassName:l,allowOverflow:u=!1,fullWidth:d=!1,boxFitContent:p=!0,isOpen:f=!1,style:m={},onMouseLeave:g=j.noop,onMouseEnter:h=j.noop,preventCloseAction:b=j.noop,appendToBody:y=!0,trigger:v=Wo.CLICK,withAnimation:w}=e;const[O,_]=(0,n.useState)(null),[E,C]=(0,n.useState)(i),T=nr()(Xo().box,{[Xo().boxHidden]:!f,[Xo().withAnimation]:w},c),S=nr()(Xo().content,l);if((0,n.useEffect)((()=>{if(!O)return;const e=()=>{if(!f)return;const e=ti({position:i,anchor:a,box:O,allowOverflow:u,fullWidth:d,boxFitContent:p,appendToBody:y});C(e.position),Object.assign(O.style,e.style)},t=new MutationObserver(e);t.observe(O,Ko),f&&e();const n=ei(a);return n&&n.addEventListener("scroll",e),window.addEventListener("resize",e),y&&v===Wo.HOVER&&window.addEventListener("scroll",e),()=>{t.disconnect(),n&&n.removeEventListener("scroll",e),window.removeEventListener("resize",e),y&&v===Wo.HOVER&&window.removeEventListener("scroll",e)}}),[O,a,i,u,d,f]),!Object.values(Ho).includes(i))throw new Error(zo);return s&&t?(0,o.createPortal)(r().createElement("aside",{className:T,"data-position":E,ref:e=>{b(e),_(e)},style:m,onMouseLeave:g,onMouseEnter:h},r().createElement("div",{className:S},Ro(t))),s):null};ni.propTypes={children:ot().node.isRequired,position:ot().oneOf(Object.values(Ho)).isRequired,container:ot().object,isOpen:ot().bool,style:ot().object,anchor:ot().object,className:ot().string,contentClassName:ot().string,allowOverflow:ot().bool,fullWidth:ot().bool,boxFitContent:ot().bool,preventCloseAction:ot().func,onMouseLeave:ot().func,onMouseEnter:ot().func,appendToBody:ot().bool,trigger:ot().oneOf(Object.values(Wo)),withAnimation:ot().bool.isRequired};const ri=ni;var oi=f("/jFF"),ii=f.n(oi);const si=["trigger","children"];function ai(){return ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ai.apply(this,arguments)}function ci(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function li(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){ci(i,r,o,s,a,"next",e)}function a(e){ci(i,r,o,s,a,"throw",e)}s(void 0)}))}}function ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function di(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ui(Object(n),!0).forEach((function(t){fi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ui(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pi(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function fi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const mi=e=>"function"==typeof e,gi=e=>{const t=Co&&(e=>{const[t]=e.split("-");return[Ho.LEFT,Ho.RIGHT].includes(t)})(e);return t?Ho.TOP:e};class hi extends Do{constructor(e){super(e),fi(this,"onClick",(e=>{this.openDelayTimeout||this.toggle(e)})),fi(this,"delayOpen",((e,t)=>new Promise((n=>{t.target?this.openDelayTimeout=setTimeout((()=>{n(),this.clearDelayOpen()}),e):n()})))),this.state=this.state||{},Object.assign(this.state,{container:null}),this.mouseLeaveTimeout=null,this.openDelayTimeout=null,this.cancelMouseLeave=this.cancelMouseLeave.bind(this),this.setContentRef=this.setContentRef.bind(this),this.getCustomStyles=this.getCustomStyles.bind(this)}componentWillUnmount(){const{container:e}=this.state,{appendToBody:t}=this.props;this.clearDelayOpen(),this.cancelMouseLeave(),e&&(t?document.body.removeChild(e):this.anchorElement.parentNode.removeChild(e))}get popoverProps(){const{open:e,close:t,toggle:n,preventCloseAction:r}=this,{isOpen:o}=this.state,i=this.props,{trigger:s,children:a}=i,c=pi(i,si);return Object.assign({open:e,close:t,toggle:n,preventCloseAction:r,isOpen:o},c)}get eventHandlers(){var e=this;const{trigger:t}=this.props,{isOpen:n}=this.state;switch(t){case Wo.CLICK:return{onClick:this.onClick};case Wo.HOVER:return{onMouseEnter:function(){e.cancelMouseLeave(),!n&&e.open(...arguments)},onMouseLeave:()=>{this.clearDelayOpen(),this.mouseLeaveTimeout=setTimeout(this.close,50)}};default:throw new Error(Go)}}get wrapperClasses(){const{trigger:e,className:t,openClassName:n,appendToBody:r}=this.props,{isOpen:o}=this.state;return nr()(ii().popover,{[ii().clickable]:e===Wo.CLICK},{[ii().inlineAppend]:!r},t,{[n]:n&&o})}get containerClasses(){const{containerClassName:e,className:t}=this.props;return nr()(e,t,ii().popoverContainer)}generateContainer(){if(this.state.container)return;const{appendToBody:e}=this.props,t=document.createElement("div");t.className=this.containerClasses,e?document.body.appendChild(t):this.anchorElement.parentNode.appendChild(t),this.setState({container:t})}cancelMouseLeave(){clearTimeout(this.mouseLeaveTimeout)}clearDelayOpen(){clearTimeout(this.openDelayTimeout),this.openDelayTimeout=null}getCustomStyles(){const{style:e,maxWidth:t}=this.props;return t?di(di({},e),{},{maxWidth:t}):e}setContentRef(e){const{isOpen:t}=this.state,{contentRef:n}=this.props;this.anchorElement=e,t&&this.generateContainer(),n(e)}togglerWillOpen(e){var t=this;return li((function*(){const{willOpen:n,delay:r}=t.props;t.generateContainer(),r&&(yield t.delayOpen(r,e)),mi(n)&&(yield n(e))}))()}togglerDidOpen(e){const{onOpen:t}=this.props;mi(t)&&t(e)}togglerWillClose(e){var t=this;return li((function*(){const{willClose:n}=t.props;mi(n)&&(yield n(e))}))()}togglerDidClose(e){const{onClose:t}=this.props;mi(t)&&t(e)}render(){const{eventHandlers:e}=this,{children:t,contentClassName:n,content:o,position:i,allowOverflow:s,fullWidth:a,boxFitContent:c,boxClassName:l,boxContentClassName:u,appendToBody:d,trigger:p,withAnimation:f}=this.props,{isOpen:m,container:g}=this.state,h=nr()(ii().content,n),b=gi(i);return r().createElement("div",{className:this.wrapperClasses,ref:this.preventCloseAction},r().createElement("span",ai({className:h,ref:this.setContentRef},e),Ro(t,this.popoverProps)),r().createElement(ri,{isOpen:m,className:l,contentClassName:u,style:this.getCustomStyles(),container:g,anchor:this.anchorElement,position:b,allowOverflow:s,fullWidth:Co&&a,boxFitContent:c,onMouseEnter:this.cancelMouseLeave,onMouseLeave:e.onMouseLeave,preventCloseAction:this.preventCloseAction,appendToBody:d,trigger:p,withAnimation:f},Ro(o,this.popoverProps)))}}hi.displayName="Popover",hi.propTypes={children:rt.node.isRequired,content:rt.node.isRequired,position:(0,rt.oneOf)(Object.values(Ho)),allowOverflow:rt.bool,trigger:(0,rt.oneOf)(Object.values(Wo)),contentRef:rt.func,className:rt.string,contentClassName:rt.string,openClassName:rt.string,containerClassName:rt.string,boxClassName:rt.string,boxContentClassName:rt.string,style:rt.object,fullWidth:rt.bool,boxFitContent:rt.bool,willOpen:rt.func,willClose:rt.func,delay:rt.number,onOpen:rt.func,onClose:rt.func,defaultOpen:rt.bool,appendToBody:rt.bool,maxWidth:(0,rt.oneOfType)([rt.number,rt.string]),withAnimation:rt.bool},hi.defaultProps={position:Ho.TOP,allowOverflow:!1,fullWidth:!1,boxFitContent:!0,trigger:Wo.CLICK,style:{},contentRef:j.noop,delay:0,defaultOpen:!1,appendToBody:!0,withAnimation:!1},Object.assign(hi,{POSITIONS:Ho,TRIGGERS:Wo});const bi=hi;var yi=f("rXjO"),vi=f.n(yi);const wi=["className","boxClassName","boxContentClassName","content","delay","withAnimation"];function Oi(){return Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oi.apply(this,arguments)}function _i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const{POSITIONS:Ei,TRIGGERS:Ci}=bi,Ti=e=>{let{className:t,boxClassName:n,boxContentClassName:o,content:i,delay:s,withAnimation:a}=e,c=_i(e,wi);const l="number"==typeof s?s:s?120:0,u=nr()(vi().tooltip,t),d=nr()(vi().box,n),p=nr()(vi().boxContent,o),f=To?Ci.CLICK:Ci.HOVER;return r().createElement(bi,Oi({className:u,key:s.toString(),delay:l,content:i,fullWidth:Co,boxFitContent:!1,trigger:f,position:Ei.TOP,boxClassName:d,boxContentClassName:p,withAnimation:a},c))};Ti.displayName="Tooltip",Ti.propTypes={delay:(0,rt.oneOfType)([rt.number,rt.bool]),withAnimation:rt.bool},Ti.defaultProps={delay:120,withAnimation:!0};const Si=bi.propTypes,{delay:ji}=Si,xi=_i(Si,["delay"]);Object.assign(Ti.propTypes,xi),Object.assign(Ti,{POSITIONS:Ei});const Pi=Ti;f("3SKs");function ki(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ii(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ai(e){let{isRead:t,toggleRead:n,i18n:o}=e;const i=nr()("toggle-read",{read:t}),s=o.t("realtime_notifications.notifications_drawer.mark_".concat(t?"unread":"read"));return r().createElement(Pi,{content:s,position:Pi.POSITIONS.LEFT,containerClassName:"toggle-read-tooltip-container"},r().createElement("button",{className:i,onClick:e=>{e.preventDefault(),e.stopPropagation(),n()}}))}Ai.propTypes={isRead:ot().bool,toggleRead:ot().func,i18n:ot().shape({t:ot().func})};const Ni=(0,In.compose)(er,Ur((e=>function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ki(Object(n),!0).forEach((function(t){Ii(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ki(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))))(Ai),Li=e=>{let{condition:t,children:n}=e;return t?n:null};Li.propTypes={condition:ot().bool.isRequired,children:ot().node.isRequired};const Di=Li,Ri=e=>e&&Number.isInteger(e)?e>99?"99+":"".concat(e):null,Mi=e=>e.type===Kr?Kr:"conversations";f("8jpx");function Fi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fi(Object(n),!0).forEach((function(t){qi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ui(e){let{id:t,subType:n,layoutSource:o,isRead:i=!1,unreadCount:s=null,toggleRead:a}=e;const c=nr()("unread-container",{read:i}),l=()=>{const e=i?or.notification.markedAsUnread:or.notification.markedAsRead,r={id:t,subType:n};Or.report(e,{item:r,layoutSource:o})};return r().createElement("span",{className:c},r().createElement(Di,{condition:s>1},r().createElement("span",{className:"unread-count"},s)),r().createElement(Ni,{isRead:i,toggleRead:()=>{l(),a()}}))}Ui.propTypes={id:ot().string,subType:ot().string,layoutSource:ot().oneOf(Object.values(_r)),unreadCount:ot().string,toggleRead:ot().func,isRead:ot().bool};const Hi=(0,In.compose)((0,it.connect)(((e,t)=>{let{item:n}=t;return{source:Mi(n),id:n.id}}),t,((e,t,n)=>{let{itemMarkRead:r,itemMarkUnread:o}=t,{item:i,layoutSource:s}=n;return Bi(Bi(Bi({},e),i),{},{layoutSource:s,toggleRead:()=>i.isRead?o(e):r(e)})})),Ur((e=>{let{id:t,subType:n,layoutSource:r,unreadCount:o,toggleRead:i,isRead:s}=e;return{id:t,subType:n,layoutSource:r,toggleRead:i,isRead:s,unreadCount:Ri(o)}})))(Ui);var Vi=f("tTwn"),Wi=f.n(Vi);const zi="BASE_SANITIZATION_GROUP",Gi="HTML_SANITIZATION_GROUP",Ki=["a","b","i","u","em","br","span","small","strong"],Zi=[...Ki,"div","p","ol","ul","li"],Qi={[zi]:Ki,[Gi]:Zi},Xi=new Set;function Yi(e,t,n){if(!Xi.has(t))return"".concat(t,'="').concat(n,'"')}["onclick","onload","onblur","onfocus","onerror","onkeydown","onkeypress","onkeyup","onkeyup","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup"].forEach((e=>Xi.add(e)));const Ji=e=>{const t=Qi[e];if(!t)throw new Error("The sanitization group does not match one of the accept groups: ".concat(Object.keys(Qi).join(",")));return t.reduce(((e,t)=>Object.assign(e,{[t]:[]})),{})},$i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gi;return Wi()(e,{whiteList:Ji(t),onIgnoreTagAttr:Yi})},es="_",ts=new RegExp("\\".concat(es,"([^").concat(es).concat(es,"]+)").concat(es),"g"),ns="Templates must be functions, instead got:",rs=e=>{_.error([ns,typeof e,"(".concat(JSON.stringify(e),")")].join(" "))},os=e=>"function"==typeof e,is=(e,t)=>{const n=e.split(ts);((e,t)=>{const n=t.length,r=(e.length-1)/2;r!==n&&_.error("The number of template declarations does not match the number of templates provided.",{numberOfTemplates:n,numberOfTemplateDeclarations:r}),t.filter((e=>!os(e))).forEach(rs)})(n,t);const o=n.map(((e,n)=>{const o=t[(n-1)/2];return n%2==1&&o&&os(o)?((e,t)=>()=>r().createElement(r().Fragment,null,t(e)))(e,o):(i=e,()=>r().createElement(r().Fragment,null,i));var i}));return r().createElement(r().Fragment,null,o.map(((e,t)=>r().createElement(e,{key:t}))))},ss={k:(0,rt.oneOfType)([rt.string,(0,rt.arrayOf)(rt.string)]).isRequired,locale:rt.string,templates:(0,rt.arrayOf)(rt.func),params:rt.object,parseMarkup:rt.bool};function as(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?as(Object(n),!0).forEach((function(t){ls(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):as(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ls(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const us=e=>{let t,{k:n,templates:o,parseMarkup:i=!1,params:s={},locale:a=Gn.DEFAULT_LOCALE}=e;if(!n)return null;try{t=i18n.t(n,cs(cs({},s),{},{$scope:a}))}catch(e){t=n}return o?is(t,o):i?r().createElement("span",{dangerouslySetInnerHTML:(c=t,l=zi,{__html:$i(c,l)})}):t;var c,l};us.propTypes=cs({},ss);const ds=zn(us),ps=6e4,fs=36e5,ms=864e5,gs=6048e5,hs=2592e6,bs=31536e6,ys="general.how_long_ago.",vs=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const o={count:Math.floor(r)};return t&&(o.$scope=t),be().t("".concat(e).concat(n),o)};function ws(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,{prefix:t=ys,locale:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Date.now(),o=r-e;return Number.isNaN(o)?"":o<ps&&vs(t,n,"just_now")||o<fs&&vs(t,n,"minutes_ago",o/ps)||o<ms&&vs(t,n,"hours_ago",o/fs)||o<gs&&vs(t,n,"days_ago",o/ms)||o<hs&&vs(t,n,"weeks_ago",o/gs)||o<bs&&vs(t,n,"months_ago",o/hs)||vs(t,n,"years_ago",o/bs)}Object.assign(ws,{MINUTE_IN_MS:ps,HOUR_IN_MS:fs,DAY_IN_MS:ms,WEEK_IN_MS:gs,MONTH_IN_MS:hs,YEAR_IN_MS:bs});var Os=f("3wFc"),_s=f.n(Os);const Es=e=>{let{onClick:t,className:n,color:o,children:i,size:s,ariaLabel:a}=e;const c="function"==typeof t,l=nr()(_s().fitIcon,{[_s().fitIconClickable]:c},n),u=(e=>{let{size:t,color:n}=e;return{width:"".concat(t,"px"),height:"".concat(t,"px"),fill:n}})({size:s,color:o}),d=c?"button":"span",p={className:l,style:u,"aria-label":a};return c?Object.assign(p,{onClick:t}):a?Object.assign(p,{role:"img"}):Object.assign(p,{"aria-hidden":!0}),r().createElement(d,p,Ro(i))};Es.displayName="Icon",Es.propTypes={children:(0,rt.oneOfType)([rt.node,rt.func]).isRequired,onClick:rt.func,color:rt.string,size:rt.number,className:rt.string,ariaLabel:rt.string},Es.defaultProps={size:16};const Cs=Es,Ts=()=>r().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},r().createElement("path",{d:"M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"})),Ss=()=>r().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},r().createElement("path",{d:"M8 0.25C3.71875 0.25 0.25 3.71875 0.25 8C0.25 12.2812 3.71875 15.75 8 15.75C12.2812 15.75 15.75 12.2812 15.75 8C15.75 3.71875 12.2812 0.25 8 0.25ZM11.8 10.0344C11.9469 10.1813 11.9469 10.4187 11.8 10.5656L10.5625 11.8C10.4156 11.9469 10.1781 11.9469 10.0312 11.8L8 9.75L5.96562 11.8C5.81875 11.9469 5.58125 11.9469 5.43437 11.8L4.2 10.5625C4.05312 10.4156 4.05312 10.1781 4.2 10.0312L6.25 8L4.2 5.96562C4.05312 5.81875 4.05312 5.58125 4.2 5.43437L5.4375 4.19688C5.58437 4.05 5.82188 4.05 5.96875 4.19688L8 6.25L10.0344 4.2C10.1813 4.05312 10.4187 4.05312 10.5656 4.2L11.8031 5.4375C11.95 5.58437 11.95 5.82188 11.8031 5.96875L9.75 8L11.8 10.0344Z"})),js=()=>r().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},r().createElement("path",{d:"M8 0C3.6 0 0 3.6 0 8C0 12.4 3.6 16 8 16C12.4 16 16 12.4 16 8C16 3.6 12.4 0 8 0ZM8 12V9H4V7H8V4L12 8L8 12Z"})),xs=()=>r().createElement("svg",{width:"14",height:"12",viewBox:"0 0 14 12",xmlns:"http://www.w3.org/2000/svg"},r().createElement("g",{clipPath:"url(#clip0)"},r().createElement("path",{d:"M13.3478 10.3128C13.7804 11.0627 13.2373 12 12.3733 12H1.12597C0.260256 12 -0.280259 11.0612 0.151506 10.3128L5.77524 0.562141C6.20806 -0.18807 7.29212 -0.186711 7.72416 0.562141L13.3478 10.3128V10.3128ZM6.7497 8.29687C6.15427 8.29687 5.67158 8.77956 5.67158 9.37499C5.67158 9.97042 6.15427 10.4531 6.7497 10.4531C7.34513 10.4531 7.82783 9.97042 7.82783 9.37499C7.82783 8.77956 7.34513 8.29687 6.7497 8.29687ZM5.72612 4.42157L5.89997 7.60907C5.90811 7.75822 6.03144 7.87499 6.1808 7.87499H7.3186C7.46797 7.87499 7.5913 7.75822 7.59943 7.60907L7.77329 4.42157C7.78208 4.26046 7.6538 4.12499 7.49246 4.12499H6.00692C5.84558 4.12499 5.71733 4.26046 5.72612 4.42157V4.42157Z"})),r().createElement("defs",null,r().createElement("clipPath",{id:"clip0"},r().createElement("rect",{width:"13.5",height:"12"})))),Ps=()=>r().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},r().createElement("g",null,r().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 1.54839C4.43687 1.54839 1.54839 4.43687 1.54839 8C1.54839 11.5631 4.43687 14.4516 8 14.4516C11.5631 14.4516 14.4516 11.5631 14.4516 8C14.4516 4.43687 11.5631 1.54839 8 1.54839ZM0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z"}),r().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 11C9.65685 11 11 9.65685 11 8C11 6.34315 9.65685 5 8 5C6.34315 5 5 6.34315 5 8C5 9.65685 6.34315 11 8 11Z"}))),ks=()=>r().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},r().createElement("path",{d:"M15.75 8C15.75 12.2802 12.2802 15.75 8 15.75C3.71978 15.75 0.25 12.2802 0.25 8C0.25 3.71978 3.71978 0.25 8 0.25C12.2802 0.25 15.75 3.71978 15.75 8ZM7.10356 12.1036L12.8536 6.35356C13.0488 6.15831 13.0488 5.84172 12.8536 5.64647L12.1465 4.93937C11.9512 4.74409 11.6346 4.74409 11.4393 4.93937L6.75 9.62869L4.56066 7.43934C4.36541 7.24409 4.04881 7.24409 3.85353 7.43934L3.14644 8.14644C2.95119 8.34169 2.95119 8.65828 3.14644 8.85353L6.39644 12.1035C6.59172 12.2988 6.90828 12.2988 7.10356 12.1036Z"})),Is=()=>r().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},r().createElement("path",{d:"M8 0C6.41775 0 4.87103 0.469192 3.55544 1.34824C2.23985 2.22729 1.21447 3.47672 0.608967 4.93853C0.00346631 6.40034 -0.15496 8.00887 0.153721 9.56072C0.462403 11.1126 1.22433 12.538 2.34315 13.6569C3.46197 14.7757 4.88743 15.5376 6.43928 15.8463C7.99113 16.155 9.59966 15.9965 11.0615 15.391C12.5233 14.7855 13.7727 13.7602 14.6518 12.4446C15.5308 11.129 16 9.58225 16 8C15.9977 5.87897 15.1541 3.84547 13.6543 2.34568C12.1545 0.845885 10.121 0.00229405 8 0ZM8 2C9.2449 2.00005 10.4585 2.38984 11.4707 3.11467L3.11467 11.4707C2.47494 10.5743 2.09468 9.51886 2.01567 8.42043C1.93667 7.32199 2.16198 6.22303 2.66684 5.2443C3.17171 4.26558 3.93659 3.44495 4.87745 2.8726C5.81831 2.30025 6.89873 1.99833 8 2ZM8 14C6.75511 13.9999 5.54146 13.6102 4.52934 12.8853L12.8853 4.52933C13.5251 5.42574 13.9053 6.48114 13.9843 7.57957C14.0633 8.67801 13.838 9.77697 13.3332 10.7557C12.8283 11.7344 12.0634 12.555 11.1226 13.1274C10.1817 13.6997 9.10127 14.0017 8 14Z"})),As=()=>r().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},r().createElement("g",null,r().createElement("path",{d:"M13.152 1.5h.12a.37.37 0 0 0 .364-.375v-.75A.37.37 0 0 0 13.273 0H2.363A.37.37 0 0 0 2 .375v.75a.37.37 0 0 0 .364.375h.12c0 2.518.976 5.181 2.946 6.5-1.979 1.324-2.945 3.997-2.945 6.5h-.121a.37.37 0 0 0-.364.375v.75a.37.37 0 0 0 .364.375h10.909a.37.37 0 0 0 .363-.375v-.75a.37.37 0 0 0-.363-.375h-.121c0-2.518-.976-5.181-2.945-6.5 1.978-1.324 2.944-3.997 2.944-6.5zm-1.455 0a8.09 8.09 0 0 1-.385 2.5H4.324a8.09 8.09 0 0 1-.385-2.5h7.758zM11.312 12H4.324c.628-1.923 1.956-3.25 3.494-3.25 1.538 0 2.867 1.327 3.494 3.25z"})));var Ns=f("Gf4R"),Ls=f.n(Ns);function Ds(e,t){let{dateTime:n,subCategory:o,status:i}=e,{locale:s}=t;const a=ws(n,{prefix:"realtime_notifications.notifications_drawer.long_ago.",locale:s});return r().createElement("footer",{className:Ls().itemMeta},n&&r().createElement(r().Fragment,null,r().createElement("time",{dateTime:n},a),r().createElement(Rs,null)),o&&r().createElement(r().Fragment,null,r().createElement("span",{className:Ls().subCategory},o),r().createElement(Rs,null)),i&&r().createElement(Pi,{content:r().createElement(ds,{k:"realtime_notifications.notifications_drawer.status.".concat(Ms(i))}),containerClassName:Ls().tooltip,boxContentClassName:Ls().status,position:Pi.POSITIONS.LEFT},r().createElement(Cs,{size:10,className:Ls().icnStatus},function(e){switch(e){case"rejected":return Ss;case"delivered":return js;case"late":return xs;case"new":return Ps;case"completed":return ks;case"cancelled":return Is;case"in-progress":return As;default:return null}}(i))))}function Rs(){return r().createElement(Cs,{size:2,className:Ls().spacer},Ts)}function Ms(e){return(0,j.isNil)(e)?e:e.split("-").join("_")}const Fs=e=>(0,j.result)(e,"msg_params.sub_category"),Bs=e=>(0,j.result)(e,"msg_params.order_status");Ds.propTypes={dateTime:ot().number,subCategory:ot().string,status:ot().string},Ds.contextTypes={locale:ot().string};const qs=Ur((e=>{let{item:t}=e;return{dateTime:1e3*(t.updated_at||0),subCategory:Fs(t),status:Bs(t)}}))(Ds),Us={browserLanguage:"",countryCode:"",currency:"",experienceLocale:"en-US",formattingLocale:"en-GB",shouldFormat:!0},Hs=Symbol(),Vs=()=>{const{computedLocale:e}=K();let t;return t=e?{formattingLocale:e}:x().get(window,"initialData.LocalizationContext"),t||(window&&!window[Hs]&&(window[Hs]=!0,_.error({message:"Browser localization context does not exist, please ensure the run time owner sets one on the window scope before using this API"})),Us)},Ws=e=>function(){const t=Vs();for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e(t,...r)},zs={CODE:"code",SYMBOL:"symbol"},Gs={style:{mapTo:"currencyDisplay",validator:e=>Object.values(zs).includes(e),validatorFallbackValue:zs.SYMBOL,defaultValue:zs.SYMBOL},minimumFractionDigits:{},maximumFractionDigits:{}},Ks="symbol",Zs={MXN:"MX",AUD:"A",CAD:"CA"},Qs=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const r=1,o=n||e.formattingLocale,i=r.toLocaleString(o,{style:"currency",currency:t}),s={currencyDisplay:Ks},a=Xs({formattedString:i,currencyCode:t,parsedOptions:s});return a.replace(/[0-9]|\.|,/g,"").trim()},Xs=e=>{let{formattedString:t,currencyCode:n,parsedOptions:r}=e;return Zs[n]&&r.currencyDisplay===Ks&&-1===t.indexOf(Zs[n])?t.replace("$","".concat(Zs[n]).concat("$")):t},Ys={INTEGER:"integer",DECIMAL:"decimal",FRACTION:"fraction",MINUS_SIGN:"minusSign",LITERAL:"literal",PERCENTAGE:"percentage",CURRENCY:"currency"},Js=e=>/\d/.test(e),$s=e=>/\s/.test(e),ea=e=>"%"===e,ta=e=>/||-||\(|\)/.test(e),na=e=>({type:Ys.LITERAL,value:e}),ra=e=>({type:Ys.PERCENTAGE,value:e}),oa=e=>({type:Ys.MINUS_SIGN,value:e}),ia=e=>({type:Ys.DECIMAL,value:e}),sa=e=>({type:Ys.CURRENCY,value:e}),aa=e=>({type:Ys.FRACTION,value:e}),ca=e=>[...la(e),...ua(e)],la=e=>{const{localizationContext:t,parsedOptions:n,formattingLocale:r,currencyCode:o,formattedString:i,formattedNumber:s}=e,a=[];let c=0;for(;c<i.length;){const e=i.charAt(c);if(Js(e)){const e=Math.abs(parseInt(s,10)),t={minimumFractionDigits:0,maximumFractionDigits:0};a.push((l=new Intl.NumberFormat(r,t).format(e),{type:Ys.INTEGER,value:l}));break}if($s(e))a.push(na(e));else if(ea(e))a.push(ra(e));else{if(!ta(e)){const e=n.currencyDisplay===zs.CODE?o:Qs(t,o,r);a.push(sa(e)),c+=e.length;continue}a.push(oa(e))}c++}var l;return a},ua=e=>{const{localizationContext:t,formattingLocale:n,currencyCode:r,formattedString:o,parsedOptions:i}=e,s=[],a=1.1.toLocaleString(n).substring(1,2),c=-1!==o.indexOf(a);let l=o.length-1;for(;l>=0;){const e=o.charAt(l);if(Js(e)){if(c){let t=e,n=l-1,r=o.charAt(n);for(;Js(r);)t="".concat(r).concat(t),n--,r=o.charAt(n);s.unshift(aa(t)),s.unshift(ia(a))}break}if($s(e))s.unshift(na(e));else if(ea(e))s.unshift(ra(e));else{if(!ta(e)){const e=i.currencyDisplay===zs.CODE?r:Qs(t,r,n);s.unshift(sa(e)),l-=e.length;continue}s.unshift(oa(e))}l--}return s},da=(e,t)=>{const n={};for(const[t,r]of Object.entries(e))r.defaultValue&&(n[r.mapTo||t]=r.defaultValue);for(const[r,o]of Object.entries(t))if(e[r]){const t=e[r].mapTo||r;n[t]=o;const i=e[r].validator;i&&!i(o)&&(n[t]=e[r].validatorFallbackValue)}return n};function pa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ma=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pa(Object(n),!0).forEach((function(t){fa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Ys);delete ma.PERCENTAGE;const ga=(e,t,n,r)=>{const o=da(Gs,r);return e%1!=0||o.hasOwnProperty("maximumFractionDigits")||o.hasOwnProperty("minimumFractionDigits")||(o.maximumFractionDigits=0,o.minimumFractionDigits=0),r.noFractionDigits&&(o.minimumFractionDigits=0,o.maximumFractionDigits=0),o.style="currency",o.currency=t,(r.asNumber||r.asParts)&&(o.useGrouping=!1),o},ha=Ws((function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=r.fallbackValue||"".concat(t," ").concat(n);try{if(!e||0===Object.keys(e).length)return o;const{asNumber:i,asParts:s}=r,a=r.formattingLocale||e.formattingLocale,c=ga(t,n,a,r),l=new Intl.NumberFormat(a,c).format(t),u=Xs({formattedString:l,parsedOptions:c,currencyCode:n});if(i||s){const t=parseFloat(u.replace(/[^0-9,.-]/gi,"").replace(/,/g,"."));return i?t:ca({localizationContext:e,parsedOptions:c,formattingLocale:a,currencyCode:n,formattedString:u,formattedNumber:t})}return u}catch(e){return _.error(e,{value:t,options:r,formatter:"currencyFormat"}),o}})),ba="numeric",ya="2-digit",va="short",wa={year:{},month:{},day:{},hour:{},minute:{},second:{},hour12:{}},Oa=e=>da(wa,e),_a=Ws((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.formattingLocale||Us.formattingLocale,o=n.fallbackValue||new Intl.DateTimeFormat(r,{year:ba,month:va,day:ya,hour:ya,minute:ya}).format(t);try{if(!e||0===Object.keys(e).length)return o;const r=n.formattingLocale||e.formattingLocale,i=Oa(n);return new Intl.DateTimeFormat(r,i).format(t)}catch(e){return _.error(e,{value:t,options:n,formatter:"dateTimeFormat"}),o}})),Ea=e=>{let{amount:t,currency:n}=e;const r="$".concat(t);return(0,j.isNil)(t)||(0,j.isNil)(n)?r:ha(parseFloat(t),n,{fallbackValue:r})};function Ca(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ca(Object(n),!0).forEach((function(t){Sa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ca(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ja={localized_fiverr_credits_removed:xa,localized_fiverr_credits_removed_no_date:xa,business_spending_limit_set:function(e,t){const{spending_limit:n,currency:r}=e.msgParams,o=Ea({amount:n,currency:r}),i=Ta(Ta({},e.msgParams),{},{amount:o});return t.t("realtime_notifications.types.".concat(e.subType),i)},business_deposit_made:function(e,t){const{deposit_amount:n,currency:r}=e.msgParams,o=Ea({amount:n,currency:r}),i=Ta(Ta({},e.msgParams),{},{amount:o});return t.t("realtime_notifications.types.".concat(e.subType),i)}};function xa(e,t){const{amount:n,currency:r,date:o}=e.msgParams,i=Ea({amount:n,currency:r}),s=(e=>(0,j.isNil)(e)?e:_a(new Date(e),{year:ba,month:ba,day:ba,fallbackValue:e}))(o),a=Ta(Ta({},e.msgParams),{},{amount:i,date:s});return t.t("realtime_notifications.types.".concat(e.subType),a)}f("/MH/");function Pa(e){let{unsafeString:t,content:n,username:o,subType:i,msgParams:s,i18n:a}=e;if(t)return r().createElement("p",{className:"content"},r().createElement("strong",{className:"username"},o),t);if(n){if(n===Zt){const e=function(e,t){if(ja[e.subType])return(0,ja[e.subType])(e,t);return t.t("realtime_notifications.types.".concat(e.subType),e.msgParams)}({subType:i,msgParams:s},a);return r().createElement("p",{className:"content",dangerouslySetInnerHTML:{__html:e}})}return r().createElement("p",{className:"content",dangerouslySetInnerHTML:{__html:n}})}return null}Pa.propTypes={content:ot().string,unsafeString:ot().string,username:ot().string,subType:ot().string,msgParams:ot().object,i18n:ot().shape({t:ot().func})};const ka=(0,In.compose)(er,Ur((e=>{let{item:t,i18n:n}=e;return{unsafeString:t.userMessage,content:t.content,username:t.username,subType:t.subType,msgParams:t.msg_params,i18n:n}})))(Pa);f("gDIq");function Ia(){let{item:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e||!e.previewImage)return null;const{previewImage:t}=e;return r().createElement("div",{className:"preview-image",style:{backgroundImage:"url(".concat(t,")")}})}Ia.propTypes={item:ot().object};const Aa=Ia;function Na(){return r().createElement("svg",{width:"8",height:"8",viewBox:"0 0 11 10",xmlns:"http://www.w3.org/2000/svg"},r().createElement("path",{d:"M7.21548 5L10.5817 1.63375C10.7764 1.43906 10.7764 1.12313 10.5817 0.928127L9.79954 0.145939C9.60485 -0.0487482 9.28891 -0.0487482 9.09391 0.145939L5.72798 3.5125L2.36173 0.146252C2.16704 -0.0484356 1.8511 -0.0484356 1.6561 0.146252L0.874226 0.928127C0.679539 1.12281 0.679539 1.43875 0.874226 1.63375L4.24048 5L0.874226 8.36625C0.679539 8.56094 0.679539 8.87687 0.874226 9.07187L1.65641 9.85406C1.8511 10.0487 2.16704 10.0487 2.36204 9.85406L5.72798 6.4875L9.09423 9.85375C9.28891 10.0484 9.60485 10.0484 9.79985 9.85375L10.582 9.07156C10.7767 8.87688 10.7767 8.56094 10.582 8.36594L7.21548 5Z"}))}f("dovV");function La(e){let{item:t,className:o,dismissable:i=!1,layoutSource:s,onDismiss:a=j.noop,onClick:c=j.noop}=e;const l=(0,n.useCallback)((()=>({item:t,layoutSource:s})),[t,s]),{containerRef:u}=qr({buildImpressionData:l,eventKey:or.notification.shown}),d=s===_r.TOAST,p=nr()("drawer-item",o,{toast:d,read:!d&&t.isRead}),f=()=>{Or.report(or.notification.clicked,{item:t,layoutSource:s})};return r().createElement("li",{"data-testid":t.id,className:p,onClick:e=>{f(),c(e,t)},ref:u},r().createElement("a",{href:t.url,className:"main-action",id:t.id},r().createElement("div",{className:"image-wrapper"},t.profilePicture&&r().createElement(Wr,{item:t}),!t.profilePicture&&r().createElement(Gr,{item:t})),r().createElement("div",{className:"item-content-wrapper"},r().createElement(ka,{item:t}),!d&&r().createElement(qs,{item:t})),r().createElement("div",{className:"item-gutter"},!d&&r().createElement("div",{className:"controls"},r().createElement(Hi,{item:t,layoutSource:s})),r().createElement("div",{className:"preview-image-wrapper"},r().createElement(Aa,{item:t})))),i&&r().createElement(Da,{onClick:a}))}function Da(e){let{onClick:t}=e;return r().createElement("button",{"data-testid":"dismiss",className:"dismiss",onClick:t},r().createElement(Na,null))}La.propTypes={className:ot().string,item:ot().object,dismissable:ot().bool,layoutSource:ot().oneOf(Object.values(_r)),onDismiss:ot().func,onClick:ot().func},Da.propTypes={onClick:ot().func.isRequired};const Ra=On(ut,"ListItem")(La);var Ma=f("+qQp"),Fa=f.n(Ma);function Ba(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function qa(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Ba(i,r,o,s,a,"next",e)}function a(e){Ba(i,r,o,s,a,"throw",e)}s(void 0)}))}}const Ua="INITIAL",Ha="STARTED",Va="COMPLETED";function Wa(e){const{notification:t,onExpiration:o,duration:i}=e,{animationState:s,startAnimating:a}=function(e){let{startAfter:t}=e;const[r,o]=(0,n.useState)(Ua),i=(0,n.useRef)(),s=(0,n.useRef)(),a=(0,n.useCallback)((()=>{o(Ha),s.current=setTimeout(qa((function*(){o(Va)})),1e3)}),[]),c=(0,n.useCallback)((()=>{i.current=setTimeout(qa((function*(){a()})),t)}),[]),l=(0,n.useCallback)((()=>{i.current&&clearTimeout(i.current),s.current&&clearTimeout(s.current)}),[]),u=(0,n.useCallback)((()=>{l(),a()}),[l,a]);return(0,n.useEffect)((()=>(c(),l)),[c,l]),{animationState:r,startAnimating:u}}({startAfter:i-1e3}),c=s===Ha||s===Va,l=nr()(Fa().card,{[Fa().expired]:c});return(0,n.useEffect)((()=>{s===Va&&o()}),[s,o]),r().createElement(Ra,{item:t,className:l,onClick:za,dismissable:!0,layoutSource:_r.TOAST,onDismiss:e=>{e.stopPropagation(),a(),jt.count(Pt.NOTIFICATION_TOAST_DISMISSED)}})}function za(){jt.count(Pt.NOTIFICATION_TOAST_CLICKED)}Wa.propTypes={notification:Ht.isRequired,onExpiration:ot().func.isRequired,duration:ot().number.isRequired};On(lt,"NotificationToast")(Wa);var Ga=f("33yw"),Ka=f.n(Ga);function Za(e){let{notifications:t,onToastExpiration:n}=e;const o=nr()("realtime-notifications",Ka().container);return t.length?r().createElement("ul",{className:o},t.map((e=>r().createElement(Wa,{key:e.id,notification:e,duration:1e4,onExpiration:()=>n(e)})))):null}Za.propTypes={notifications:ot().arrayOf(Ht),onToastExpiration:ot().func.isRequired};const Qa=(0,j.flow)((0,it.connect)((e=>({notifications:mt(e)})),(e=>({onToastExpiration:t=>e(At(t))}))),On(lt,"Toaster"))(Za);class Xa extends r().Component{constructor(e){super(e);const t={tabManager:e.tabManager};this.store=function(e,t){return(0,In.createStore)(qn,(e=>{const{realtimeEnabled:t,soundEnabled:n,username:r}=e;return{settings:{realtimeEnabled:t,soundEnabled:n},username:r}})(e),Un((0,In.applyMiddleware)(Nn().withExtraArgument(t))))}(e,t)}render(){const{socket:e,tabManager:t}=this.props,{locale:n}=K();return r().createElement(it.Provider,{store:this.store},r().createElement($n,{locale:n},r().createElement(r().Fragment,null,r().createElement(Cn,{socket:e,tabManager:t}),r().createElement(Qa,null),r().createElement(kn,null))))}}Xa.propTypes={socket:Ut,tabManager:ot().object};const Ya=On(lt,"Entry")(Xa);f("WzVn");function Ja(){return Ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ja.apply(this,arguments)}const $a=t=>r().createElement(Ya,Ja({},t,{socket:e,tabManager:Ue})),ec="undefined"!=typeof document&&document.querySelector("#RealtimeMessages");if(ec){((e,t,n,o,s)=>{try{const a="layout.CSR.".concat(o,".").concat(s);ce(a),i().hydrate(r().createElement(me,{componentName:o,entryName:s},r().createElement(e,t)),n,(()=>{le(a)}))}catch(e){fe(e,o,s)}})($a,window.initialData.RealtimeMessages,ec,"RealtimeMessages","RealtimeMessages")}const tc=$a})(),m})()));
//# sourceMappingURL=RealtimeMessages.fec4f0e11acb512407fa.js.map